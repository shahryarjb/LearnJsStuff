#test-driven development (TDD)

With Jest as your test framework, youâ€™ll be able to create a light- ning-fast feedback loop

**Vitest is designed for compatibility with tests written for Jest**

Jest runs in a Node process

jest runs in node process because itâ€™s possible to simulate most browser apis in node with use of jsdom library

Advantages:

- tests can be run much more quickly
- code coverage can be calculated easily,
- the same tests can be run on any system whether itâ€™s a developerâ€™s laptop or a continuous integration server with consistent results

project fizz-buzz

`describe()` declares a `*test suite`* ,which is a grouping of tests. Its first argument
is a name, and the second is a function containing one or more tests.

```jsx
const greeting = (guest) => `Hello, ${guest}!`;

describe('greeting()', () => {
  it('says hello', () => {
    expect(greeting('Jest')).toBe('Hello, Jest!');
  });
});

```

`it()` declares a *test*. Its first argument is a name, and the second is a
function with the actual test code.

`expect()` creates an *assertion*. It takes a single argument, typically a value
generated by the code being tested, and returns an object that provides
a set of matcher functions.

`toBe()` is a *matcher* that performs a strict equality test between the value being
tested (the expect() argument) and the expected value (its own argument).

run test with

```jsx
npm test
```

run test automatically

```jsx
npx jest --watchAll
```

measure test coverage

```jsx
npx jest --coverage
```

we should try adding a test to cover the case where it fails

ØªØ³Øª Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ú©Ø¯

```jsx
(num) => {
  if (num % 15 === 0) return 'FizzBuzz';
  return `${num}`;
};
```

test:

```jsx
const fizzBuzz = require('./index');
describe('fizzBuzz()', () => {
  it('returns "FizzBuzz" for multiples of 3 and 5', () => {
    expect(fizzBuzz(15)).toBe('FizzBuzz');
    expect(fizzBuzz(30)).toBe('FizzBuzz');
  });
});

```

Ú©Ø¯ Ú©Ø§ÙˆØ±ÛŒØ¬ Ø§ÛŒÙ† Ù…ÛŒØ´Ù‡

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/28aaf9fb-7428-4beb-aec8-317950f18fb8/c7ab294f-22b7-45d7-9d29-1096c033628c/Untitled.png)

Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯Ù‡ 75 Ø¯Ø±ØµØ¯ Ú©Ø¯ Ú©Ø§ÙˆØ±Ø¬ Ùˆ 50 Ø¯Ø±ØµØ¯ Ø¨Ø±Ù†Ú† Ù†ØªØ§ÛŒØ¬ Ø§Ø­ØªÙ…Ø§Ù„ Ø§Ø² if/else Ù‡Ø§Ø³Øª

Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯Ù‡ Ú©Ù‡ ØªØ³Øª Ù‡Ø§ ÙÙ‚Ø· `num % 15 === 0` Ø±Ùˆ Ú©Ø§ÙˆØ± Ù…ÛŒÚ©Ù†Ù†

ØªØ³Øª Ù‡Ø§ÛŒÛŒ Ø¨Ø§ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø¨Ø´Ù‡ Ú©Ù‡ Ø¨Ù‡ fail Ø¨Ø´Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… Ù…Ø´Ú©Ù„Ø§Øª Ú©Ø¯ Ø±Ùˆ Ø¨ÙÙ‡Ù…ÛŒÙ…

```jsx
const fizzBuzz = require('../index');
describe('fizzBuzz()', () => {
  it('returns "FizzBuzz" for multiples of 3 and 5', () => {
    expect(fizzBuzz(15)).toBe('FizzBuzz');
    expect(fizzBuzz(30)).toBe('FizzBuzz');
  });
  it('returns the given number for multiples of neither 3 nor 5', () => {
    expect(fizzBuzz(1)).toBe('1');
    expect(fizzBuzz(22)).toBe('22');
  });
});

```

code coverage:

![Screenshot 2024-07-16 173508.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/28aaf9fb-7428-4beb-aec8-317950f18fb8/a938d532-36f1-4e70-bb3a-3eb0570411b1/Screenshot_2024-07-16_173508.png)

Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯Ù‡ Ø¯Ø± Ø§ÛŒÙ† ØªØ³Øª Ù‡Ù…Ù‡ Ù…Ø³ÛŒØ±Ù‡ Ù‡Ø§ Ùˆ Ø®Ø±ÙˆØ¬ÛŒ Ù‡Ø§ÛŒ Ù…Ø¯ Ù†Ø¸Ø± Ø¯Ø± Ú©Ø¯ Ú©Ø§ÙˆØ± Ø´Ø¯Ù‡

```jsx
Like all metrics, code coverage is imperfectâ€”projects with impressive code
coverage numbers donâ€™t necessarily have the most useful testsâ€”but the
numbers can still guide you in the right direction. Itâ€™s especially handy for
identifying parts of your project with large gaps in test coverage.
```

fizz buzz code and test

code and test:

```jsx
{
  if (num % 15 === 0) return 'FizzBuzz';
  if (num % 3 === 0) return 'Fizz';
  if (num % 5 === 0) return 'Buzz';
  return `${num}`;
}

describe('fizzBuzz()', () => {
  it('returns "FizzBuzz" for multiples of 3 and 5', () => {
    expect(fizzBuzz(15)).toBe('FizzBuzz');
    expect(fizzBuzz(30)).toBe('FizzBuzz');
  });
  it('returns "Fizz" for multiples of 3', () => {
    expect(fizzBuzz(3)).toBe('Fizz');
    expect(fizzBuzz(33)).toBe('Fizz');
  });
  it('returns "Buzz" for multiples of 5', () => {
    expect(fizzBuzz(5)).toBe('Buzz');
    expect(fizzBuzz(20)).toBe('Buzz');
  });
  it('returns the given number for multiples of neither 3 nor 5', () => {
    expect(fizzBuzz(1)).toBe('1');
    expect(fizzBuzz(22)).toBe('22');
  });
});
```

# integrated tools:

finds all palindromes in a string which spelled the same forwards and backwards

example:

```jsx
palindromes('What number is never odd or even, asked the Sphinx?')
// would return
['neveroddoreven']
```

test:

```jsx
const palindromes = require('./palindromes');
describe('palindromes()', () => {
  it('correctly identifies one-word palindromes', () => {
    expect(palindromes('madam')).toEqual(['madam']); //Note
  });
});

```

### Note:

`toBe()` does a strict equality check (like the === operator) which would fail here

The` toEqual()` assertion method, by contrast, checks for deep object equality. So the assertion `expect(x).toEqual(['madam'])` passes as long as x is an array with the string "madam" as its only entry.

so with this code all test should pass for the test

```jsx
module.exports = (str) => {
  return [str];
};
```

## Eslint

A linter is a program that uses a set of rules to detect code that, though
syntactically valid, is likely to contain mistakes. A classic example is using
`=` (assignment) instead of `== or === (equality)` in an if statement:

```jsx
if (savings = 0) {
// This "condition" would empty your bank account!
}
```

Linting JavaScript is especially valuable because of its relatively freewheeling
nature. If you mistype `window` as `wimdow`, your program wonâ€™t refuse to run; it
just wonâ€™t run the way youâ€™d hoped. Of course, one way to avoid such fatfinger
bugs is to have extensive test coverage. But a linter can often identify
such problems sooner, and give you more helpful information for fixing them.

**Note: eslint has pluggable architecture.**

There are plugins for
React, Angular, and every other popular JavaScript framework, aimed at
warning developers against the most common gotchas. also `Jest` has a plugin too

### Configure Eslint:

ÛŒÚ© Ú©Ø§Ù†ÙÛŒÚ¯ÙˆØ±ÛŒØ´Ù† Ø¨Ø±Ø§ÛŒ `eslint` Ø¨Ø§ÛŒØ¯ Ø¯Ø±Ø³Øª Ú©Ù†ÛŒÙ… Ùˆ  Ø¨Ø§ Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± Ø±Ø§Ù† Ú©Ù†ÛŒÙ….

```jsx
npx eslint
```

Ø§Ø³Ù… ÙØ§ÛŒÙ„Ø´

```jsx
.eslintrc.js
```

Ù…Ø­ØªÙˆØ§ÛŒ Ø¯Ø§Ø®Ù„Ø´

```jsx
/** @type {import('eslint').Linter.Config} */ //!NOTICE 1
module.exports = {
  extends: ['eslint:recommended'],
};

```

**!NOTICE 1:** this `JSDoc-style` comment lets VS Code know what kind of object youâ€™re
writing by referencing a type definition from the `@types/eslint` package

Comments like this are a great way
of bringing some of the benefits of TypeScript into config files that canâ€™t
be written in TypeScript.

**!NOTICE 2:**  `extends` allows an `ESLint` configuration to inherit properties from another
ESLint configuration. You can view the eslint:recommended configuration in
the ESLint source code.

Ø§ÛŒÙ† eslint Ù…ÛŒÚ¯Ù‡ Ú©Ù‡ Ø§Ø² Ù‚ÙˆØ§Ù†ÛŒÙ† recommended Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù†ÙÛŒÚ¯  Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†

Ø¯Ø± Ù…Ø«Ø§Ù„ palindromes.js Ø§ÛŒÙ† eslint  Ø§Ø² Ù¾Ø§Ø±Ø³ arrow funtion Ù…Ù…Ø§Ù†Ø¹Øª Ù…ÛŒÚ©Ù†Ù‡

Ø¨Ù‡ ØµÙˆØ±Øª Ø¯ÛŒÙØ§Ù„Øª eslint Ø¨Ø± Ù¾Ø§ÛŒÙ‡ ecmascript 5 Ù‡Ø³Øª Ùˆ arrow funtion Ù‡Ø§ Ø±Ø¯ ecmascript 6 (ecmascript 2015)Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù†Ø¯

Ø¨Ø±Ø§ÛŒ Ø±ÙØ¹Ø´ 

```jsx
/** @type {import('eslint').Linter.Config} */
module.exports = {
  extends: ['eslint:recommended'],
  env: {
    es2021: true,
  },
};
```

Ú©Ø§Ù†ÙÛŒÚ¯ Ø¨Ø§Ù„Ø§ Ù…ÛŒØ°Ø§Ø±Ø±ÛŒÙ… ÙˆÙ„ÛŒ Ø¨Ø§Ø² Ù‡Ù… Ø§Ø±ÙˆØ± Ø®ÙˆØ§Ù‡ÛŒÙ… Ø¯Ø§Ø´Øª Ø¨Ø¹Ø¯ Ø§Ø² Ø§Ø¬Ø±Ø§ÛŒ `npx eslint palindromes.js`

<aside>
ğŸ’¡ The `module` global isnâ€™t part of any `ECMAScript` standard, and would indeed be undefined in many environments.
We expect it to be defined, however, because this code will run in a Node
environment. To let `ESLint` know that, add another env entry:

</aside>

Ø¨Ø±Ø§ÛŒ Ø±ÙØ¹ Ù…Ø´Ú©Ù„

```jsx
/** @type {import('eslint').Linter.Config} */
module.exports = {
  extends: ['eslint:recommended'],
  env: {
    node: true, //ADDED THIS LINE
    es2021: true,
  },
};
```

Ø¯ÙˆØ¨Ø§Ø±Ù‡`npx eslint palindromes.js` Ø§Ø¬Ø±Ø§ Ù…ÛŒÚ©Ù†ÛŒÙ…

ÙˆÙ‚ØªÛŒ linting Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯ÛŒÙ… Ø¯Ø± Ú©Ù†Ø³ÙˆÙ„ Ø§Ø±ÙˆØ±ÛŒ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… ÛŒØ¹Ù†ÛŒ Ú©Ø¯ Ø§ÙˆÚ©ÛŒ Ù‡Ø³Øª

Ø§Ù…Ø§ 

```css
npx eslint palindromes.test.js
```

Ø§Ø±ÙˆØ± Ù…ÛŒØ¯Ù‡ Ú†ÙˆÙ† `eslint` Ù†Ù…ÛŒØ¯ÙˆÙ†Ù‡ Ú©Ù‡ `describe` Ùˆ `it` Ùˆ 

Ø§ÛŒÙ† Ù…Ø´Ú©Ù„ eslint Ù…ÛŒØ´Ù‡ Ø¨Ø§ ÛŒÙ‡ `env entry` Ø¯ÛŒÚ¯Ù‡ Ø­Ù„Ø´ Ú©Ø±Ø¯ 

Ø§Ù…Ø§ Ù¾Ù„Ø§Ú¯ÛŒÙ† eslint Ø¯Ø§Ø±ÛŒÙ… Ù…Ø´Ú©Ù„Ø´ Ø­Ù„ Ù…ÛŒÚ©Ù†Ù‡

`npm install --save-dev eslint-plugin-jest@27.2.1`

Ù†ØµØ¨ Ù…ÛŒÚ©Ù†ÛŒÙ… Ø¨Ø¹Ø¯Ø´ ØªÙˆ Ú©Ø§Ù†ÙÛŒÚ¯ `eslint` Ù…ÛŒØ§ÛŒÙ… ØªÙˆ entry Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ plugins Ù‚Ø±Ø§Ø± Ù…ÛŒØ¯ÛŒÙ…

Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± configuration Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `eslint` Ø±Ùˆ Ù…ÛŒØ°Ø§Ø±ÛŒÙ… Ø¯Ø±extends

```css
module.exports = {
  plugins: ["jest"],
  extends: ["eslint:recommended", "plugin:jest/recommended"],
  env: {
    node: true,
    es2021: true,
  },
};
```

Ú©Ø§Ù†ÙÛŒÚ¯ Ø¨Ø§Ù„Ø§ Ø±ÙˆÛŒ Ù‡Ù…Ù‡ ÙØ§ÛŒÙ„ Ù‡Ø§ÛŒ js Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒØ´Ù‡
Ù…Ø§ Ù…ÛŒØ®ÙˆØ§ÛŒÙ… ÙÙ‚Ø· Ø±ÙˆÛŒ ÙØ§ÛŒÙ„ Ù‡Ø§ÛŒ ØªØ³Øª Ø§Ø¹Ù…Ø§Ù„ Ø¨Ø´Ù‡ Ù¾Ø³ Ø¨Ù‡ Ø§Ø¨Ø¬Ú©Øª Ø²ÛŒØ± ØªØºÛŒÛŒØ±Ø´ Ù…ÛŒØ¯ÛŒÙ…

```css
module.exports = {
  extends: ["eslint:recommended"],
  env: {
    node: true,
    es2021: true,
  },
  overrides: [
    {
      files: ["*.test.js"],
      plugins: ["jest"],
      extends: ["plugin:jest/recommended"],
    },
  ],
};

```

Ø§ÛŒÙ† Ú©Ø§Ù†ÙÛŒÚ¯ Ú©Ù…Ú© Ù…ÛŒÚ©Ù†Ù‡ ÙˆÙ‚ØªÛŒ ÙØ§ÛŒÙ„ Ø³ÛŒÙˆ Ø´Ø¯ Ù…Ø´Ú©Ù„Ø§Øª Ø±Ùˆ Ù†Ø´ÙˆÙ† Ø¨Ø¯Ù‡

```css
"eslint.run": "onSave",
```

Ù†ØµØ¨ prittier ÛŒÚ© Ú©Ø¯ ÙØ±Ù…ØªØ± Ù‡Ø³Øª

```css
npm install --save-dev prettier@2.8.4
```

Ø§Ø¬Ø±Ø§Ø´

```css
npx prettier palindromes.test.js
```

Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ .prettierrc.js

Ù†Ø­ÙˆÙ‡ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ù†ÙÙ„ÛŒÚ©Øª Ø¨ÛŒÙ† prittier Ùˆ eslint

Ù‡Ø± Ø¯Ùˆ Ø§Ø¨Ø²Ø§Ø±ÛŒ Ø¨Ø±Ø§ÛŒ ÙØ±Ù…Øª ÙØ§ÛŒÙ„ Ù‡Ø³ØªÙ†Ø¯

Ù†ØµØ¨

```css
npm install --save-dev eslint-config-prettier@8.7.0
```

Ùˆ ØªÙˆÛŒ Ú©Ø§Ù†ÙÛŒÚ¯ eslint

```css
  extends: ["eslint:recommended", "prettier"],
```

Ø¨Ù‡ extends Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒÚ©Ù†ÛŒÙ…

Ù…ÛŒØªÙˆÙ†ÛŒÙ… Ø¨Ù‡ package.json Ø§ØµØ§ÙÙ‡ Ú©Ù†ÛŒÙ…

```css
"scripts": {
  "test": "jest",
  "lint": "eslint . && prettier --list-different .", //1
  "format": "eslint --fix . && prettier --log-level warn --write ." //2
},
```

1. The --list-different flag tells Prettier to list the names of any files with formatting
issues, rather than emitting their formatted contents. This matches
the behavior of ESLint with no flag.
2. The --loglevel warn flag tells Prettier not to emit any output unless it hits a
snag. This matches the behavior of ESLint with no flag.

# CH3:

- Jamstack frameworks like Next.tsx, Gatsby, and Remix that are designed
for building high-performance production websites. These frameworks
add some complexity in order to enable optimizations like server-side
rendering.
- Static build tools like Vite and Webpack that compile and bundle JavaScript
code but donâ€™t provide a server. These simpler tools are great for building
React component libraries.

create new project with vite

```css
npm create vite@4.2.0 test-driven-carousel -- --template react-ts

cd test-driven-carousel
npm install
npm run dev
```

<aside>
ğŸ’¡ **Hot Module Reloading (HMR) that**
allows the Vite dev server to deliver code changes to the browser without a
full refresh

</aside>

JSX allows HTML-like markup to be embedded within JavaScript code. When
the code is compiled to pure JavaScript that a web browser can understand

each JSX tag is converted to a function call that tells React what kind of element
to create. So for instance, the code

```css
const helloJSX = <h1 className="super-big">Hello, JSX!</h1>;

```

would compile to something like:

```css
const helloJSX = React.createElement(
	'h1',
	{ className: 'super-big' },
	'Hello, JSX!'
);
```

Ø³Ø§Ø®Øª .eslintrc.cjs

ØªÙˆØ¬Ù‡ Ú©Ù‡ cjs Ù‡Ø³Øª Ú†ÙˆÙ† common js Ù‡Ø³ØªØ´

```jsx
/** @type {import('eslint').Linter.Config} */
module.exports = {
  extends: ['eslint:recommended', 'prettier'],
  env: {
    node: true,
    es2021: true,
  },
  overrides: [{ files: ['*.cjs'] }], //1
};

```

1. By default, ESLint only lints files with the .js extension. To make it cover
.cjs files, there are two options: Either specify --ext .cjs every time we call
the ESLint command, or add an overrides entry to the config for *.cjs files.
The overrides entry entry may look a little strange since it isnâ€™t actually
overriding anything, but itâ€™s less effort than the alternative.

Ø§ÛŒÙ† Ø±Ùˆ Ù‡Ù… Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒÚ©Ù†ÛŒÙ… Ø¨Ù‡ scripts Ù¾Ú©ÛŒØ¬ Ø¬ÛŒØ³Ø§Ù†

```json
"lint": "eslint . && prettier --list-different .",
"format": "eslint --fix . && prettier --loglevel warn --write .",
```

Ø¯Ùˆ ØªØ§ ÙØ§ÛŒÙ„ `.eslintignore` Ùˆ `.prettierignore` Ù…ÛŒØ³Ø§Ø²ÛŒÙ…

Ø¯Ø±Ø´ ÙÙˆÙ„Ø¯Ø± dist Ù‚Ø±Ø§Ø± Ù…ÛŒØ¯ÛŒÙ… ØªØ§ build output Ù‡Ø§ÛŒ Ù…Ø§ Ø±Ùˆ ÙØ±Ù…Øª Ù†Ú©Ù†Ù†

Ø§Ø¬Ø±Ø§ÛŒ Ù„ÛŒÙ†Øª Ùˆ ÙØ±Ù…Øª

```bash
npm run lint
npm run format
```

Ø­Ø§Ù„Ø§ `eslint` Ø±ÙˆÛŒ ÙØ§ÛŒÙ„ Ù‡Ø§ÛŒ ts Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ù‡ Ø§Ø² Ù¾Ù„Ø§Ú¯ÛŒÙ† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ù‡

Ù†ØµØ¨ Ù…ÛŒÚ©Ù†ÛŒÙ…

```bash
npm install --save-dev @typescript-eslint/parser @typescript-eslint/eslint-plugin
```

Ø¨Ø¹Ø¯ Ù‡Ù… Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ø¨Ù‡ Ú©Ø§Ù†ÙÛŒÚ¯ eslint Ø§Ø¶Ø§ÙÙ‡ Ø¨Ø´Ù‡ Ø¨Ù‡ Ø¨Ø®Ø´ override

```jsx
/** @type {import('eslint').Linter.Config} */
module.exports = {
  extends: ["eslint:recommended", "prettier"],
  env: {
    node: true,
    es2021: true,
  },
  overrides: [
    { files: ["*.cjs"] },
    {
      files: ["*.ts", "*.tsx"],
      extends: [
        "plugin:@typescript-eslint/recommended", //1
        "plugin:@typescript-eslint/recommended-requiring-type-checking", //2
      ],
      plugins: ["@typescript-eslint"],
      parser: "@typescript-eslint/parser",
      parserOptions: {
        project: true,
        tsconfigRootDir: __dirname,
      },
    },
  ],
};

```

1. The plugin:@typescript-eslint/recommended config is pretty minimalist. It exists
mainly to disable rules from the eslint:recommended config that are redundant
with TypeScript.
2.  The plugin:@typescript-eslint/recommended-requiring-type-checking config is more
interesting. To quote the typescript-eslint docs, this config enables rules
that â€œutilize the awesome power of TypeScriptâ€™s type checking APIs to
provide much deeper insights into your code.â€ One useful rule in this set
is the no-floating-promises rule, which requires you to handle promises
returned by async functions you call (e.g. by using the await keyword).
Treating async functions as if they were synchronous is a common
developer mistake, but thanks to the combined power of TypeScript and
ESLint, you donâ€™t have to worry about it!

Ú†ÙˆÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø±ÛŒ Ø§Ú©Øª Ù‡Ø³Øª Ø¨Ù‡ØªØ±Ù‡ Ú©Ù‡ Ù¾Ù„Ø§Ú¯ÛŒÙ† Ø±ÛŒ Ø§Ú©Øª Ù‡Ù… Ù†ØµØ¨ Ø¨Ø´Ù‡

```bash
npm install --save-dev eslint-plugin-react@7.32.2
```

Ù¾Ù„Ø§Ú¯ÛŒÙ† Ø¨Ù‡ `.eslintrc.cjs` Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒØ´Ù‡ Ùˆ Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…Ø­ÛŒØ· Ø±ÛŒ Ø§Ú©Øª Ù‡Ù… Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒØ´Ù‡ Ø¯Ø± `settings`

```jsx
/** @type {import('eslint').Linter.Config} */
module.exports = {
  extends: ["eslint:recommended", "prettier"],
  env: {
    node: true,
    es2021: true,
  },
  overrides: [
    { files: ["*.cjs"] },
    {
      files: ["*.ts", "*.tsx"],
      extends: [
        "plugin:@typescript-eslint/recommended",
        "plugin:@typescript-eslint/recommended-requiring-type-checking",
        "plugin:react/recommended",
        "plugin:react/jsx-runtime",
      ],
      settings: {
        react: {
          version: "detect",
        },
      },
      plugins: ["@typescript-eslint"],
      parser: "@typescript-eslint/parser",
      parserOptions: {
        project: true,
        tsconfigRootDir: __dirname,
      },
    },
  ],
};

```

Ø§Ø¬Ø±Ø§ÛŒ Ù„ÛŒÙ†Øª

```jsx
npm run lint
```

Ù†ØµØ¨ vitest

```jsx
npm install --save-dev vitest@0.34.1
```

Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ `package.json`

```jsx
"scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "test": "vitest",
    "preview": "vite preview",
    "lint": "eslint . && prettier --list-different .",
    "format": "eslint --fix . && prettier --loglevel warn --write ."
  },
```

Ø®Ø¨

`Vitest` requires you to import basic functions like describe and expect

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ú¯Ù„ÙˆØ¨Ø§Ù„ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ…

Ø§Ø¨ØªØ¯Ø§ `vite.config.ts`  Ø±Ùˆ Ø§Ù¾Ø¯ÛŒØª Ù…ÛŒÚ©Ù†ÛŒÙ… Ú©Ù‡ `defineConfig` Ø¯Ø§Ø®Ù„Ø´ import Ù…ÛŒÚ©Ù†ÛŒÙ…

Ùˆ `test.globals` Ø±Ùˆ `enabled` Ù…ÛŒÚ©Ù†ÛŒÙ…

```jsx
import { defineConfig } from "vitest/config";
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
  test: {
    globals: true,
  },
});

```

Ø¯Ø± Ø§ÛŒÙ† ÙØ§ÛŒÙ„ Ù…Ù…Ú©Ù†Ù‡ Ø§Ø±ÙˆØ±ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ú©Ù‡ Ø¯Ø± Ù‚Ø§ÛŒÙ„`tsconfig.json` Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ± ØªØºÛŒÛŒØ± Ø¨Ø¯ÛŒÙ…

```jsx
  "include": ["src" ,"vite.config.ts"],
```

Ø¯Ø±Ø³Øª Ù…ÛŒØ´Ù‡

Ø¨Ø¹Ø¯ Ø¨Ù‡ `tsconfig.json` ÛŒÙ‡ entry Ø¨Ù‡ Ù†Ø§Ù… *types*Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒÚ©Ù†ÛŒÙ…

```jsx
"types": ["vitest/globals"],
```

Ø¨Ø§ 

```jsx
npm run test
```

Ù‡Ù… ØªØ³Øª Ø§Ø¬Ø±Ø§ Ù…ÛŒØ´Ù‡

react testing library follow DOM-oriented testing philosophy

# React Testing Library

```jsx
npm install --save-dev @testing-library/react@14.0.0 happy-dom@9.20.3 @testing-library/jest-dom@6.0.0
```

happy-dom and jest-dome related to the DOM

happy-dom library is a JavaScript implementation of the DOM.  React expects to interact with the DOM, so a simulated DOM is a prerequisite for running React code.

JSDOM is more popular but; happy-dom is a newer, more performant alternative
thatâ€™s well-supported by Vitest.

The jest-dom extension for testing-library allows you to make assertions
about the state of the DOM in our tests, as youâ€™ll soon see.

Ø¨Ø¹Ø¯ Ù†ØµØ¨ Ù¾Ú©ÛŒØ¬ Ù‡Ø§ ÙØ§ÛŒÙ„ vite.config.ts Ø±Ùˆ ØªØºÛŒÛŒØ± Ù…ÛŒØ¯ÛŒÙ…

```jsx
import { defineConfig } from "vitest/config";
import react from "@vitejs/plugin-react";

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
  test: {
    globals: true,
    environment: "happy-dom",
    setupFiles: ["test-setup.ts"],
  },
});

```

The test-setup.ts file referenced from the config will install the matchers for DOM
assertions, saving you the trouble of having to import them in every test:

plugin for React Testing Library with rules designed to guard against common mistakes.

```bash
npm install --save-dev eslint-plugin-testing-library@6.0.1
```

Ùˆ Ø¯Ø± Ú©Ø§Ù†ÙÛŒÚ¯ eslint Ø§ÛŒÙ† Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒØ´Ù‡

```bash
plugin:testing-library/react
```

ÛŒÚ© Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª button Ø¯Ø§Ø±ÛŒÙ…

```bash
const CarouselButton = () => <button />;
export default CarouselButton;
```

Ùˆ ØªØ³ØªØ´

```bash
import { render, screen } from '@testing-library/react';
import CarouselButton from './CarouselButton';
describe('CarouselButton', () => {
  it('renders a <button>', () => {
    render(<CarouselButton />);
    expect(screen.getByRole('button')).toBeInTheDocument();
  });
});

```

ÙØ§Ù†Ú©Ø´Ù† `render` Ù…Ø´Ø®Øµ Ù‡Ø³Øª ÛŒÚ© Ø§Ù„Ù…Ù†Øª Ø±ÛŒ Ø§Ú©Øª Ø±Ùˆ Ù…ÛŒÚ¯ÛŒØ±Ù‡ Ùˆ Ø±Ù†Ø¯Ø± Ù…ÛŒÚ©Ù†Ù‡ Ø¨Ù‡ DOM

The screen.getByRole function is built into Testing Library. It finds a single
element in the DOM with the given ARIA role; itâ€™ll throw an error if no
elements match, or if more than one element matches. The toBeInTheDocument
matcher comes from @testing-library/jest-dom. Given the behavior of getByRole,
the matcher is redundant, but it makes the test more readable.

### working with props

Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ø¯Ú©Ù…Ù‡

```bash
import { ReactNode } from "react";

const CarouselButton = ({ children }: { children?: ReactNode }) => (
  <button>{children}</button>
);
export default CarouselButton;

```

ØªØ³Øª

```jsx
import { render, screen } from '@testing-library/react';
import CarouselButton from './CarouselButton';

describe('CarouselButton', () => {
  it('passes `children` through to the <button>', () => {
    const text = 'Button text';
    render(<CarouselButton>{text}</CarouselButton>);
    expect(screen.getByRole('button')).toHaveTextContent('Button text');
  });
});

```

ÙˆÙ‚ØªÛŒ ÛŒÚ© Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ø¨Ù‡â€ŒØµÙˆØ±Øª ÛŒÚ© ØªØ§Ø¨Ø¹ ØªØ¹Ø±ÛŒÙ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ø¢Ù† ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ¹Ù†ÙˆØ§Ù† Ø§ÙˆÙ„ÛŒÙ† Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù†ØŒ  props Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ù„ÛŒØ³Øª Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù† ({ children }) Ø§Ø² Ø³ÛŒÙ†ØªÚ©Ø³ destructuring Ø§Ø¨Ø¬Ú©Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ØªØ§ props.children Ø±Ø§ Ø¨Ù‡â€ŒØ¹Ù†ÙˆØ§Ù† children Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ù†Ø¯ØŒ Ú©Ù‡ Ø³Ù¾Ø³ Ø¨Ù‡ Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª <button> Ø±Ù†Ø¯Ø± Ø´Ø¯Ù‡ØŒ Ù…Ù†ØªÙ‚Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ±
Ú¯Ø²ÛŒÙ†Ù‡ noEmit Ø¨Ù‡ TypeScript Ù…ÛŒâ€ŒÚ¯ÙˆÛŒØ¯ Ú©Ù‡ Ù…Ø§ ÙÙ‚Ø· Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒÙ… Ø¨Ø±Ø±Ø³ÛŒ Ù†ÙˆØ¹â€ŒÙ‡Ø§ Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒÙ… Ùˆ Ù†Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒÙ… Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„Ø± Ù‡ÛŒÚ† Ú©Ø¯ÛŒ Ø±Ø§ Ø¨Ù‡ Ú©Ø¯ ØªØ±Ù†Ø³Ù¾Ø§ÛŒÙ„ Ø´Ø¯Ù‡ Ø®Ø±ÙˆØ¬ÛŒ Ø¯Ù‡Ø¯.

```jsx
npx tsc --noEmit
```

Ù…Ø§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒÙ… Ø§Ø² Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù† ÛŒÚ© Ù‡Ù†Ø¯Ù„Ø± Ø±ÙˆÛŒØ¯Ø§Ø¯ onClick Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú©Ù†ÛŒÙ…. Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒÙ… Ø§Ø² Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù† prop Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ className Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªØ§ÛŒÙ„â€ŒØ¯Ù‡ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú©Ù†ÛŒÙ…. Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒÙ… Ø§Ø² ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ data- Ù†ÛŒØ² Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú©Ù†ÛŒÙ…. Ø¨Ù‡ Ø§ÛŒÙ† ÙÚ©Ø± Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ø§Ú¯Ø± Ù…Ø§ ÙÙ‚Ø· Ù‡Ø± prop Ú©Ù‡ ØªÙˆØ³Ø· Ø¹Ù†ØµØ± <button> Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ù¾Ø§Ø³ Ø¯Ù‡ÛŒÙ…ØŒ Ú†Ù‡ Ø§ØªÙØ§Ù‚ÛŒ Ù…ÛŒâ€ŒØ§ÙØªØ¯ØŸ

Ø§ÛŒÙ† Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© Ø¹Ù…Ù„ Ø¨Ø³ÛŒØ§Ø± Ø±Ø§ÛŒØ¬ Ø¯Ø± React Ø§Ø³Øª Ùˆ Ù…Ù†Ø·Ù‚ÛŒ Ù†ÛŒØ² Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒâ€ŒØ±Ø³Ø¯. Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ú©Ø§Ø±ØŒ ÛŒÚ© ØªØ³Øª Ø¯ÛŒÚ¯Ø± Ø¨Ù‡ Ø¨Ù„ÙˆÚ© describe() Ù…ÙˆØ¬ÙˆØ¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯ Ùˆ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ú©Ù†ÛŒØ¯ Ú©Ù‡ props Ø¨ÛŒØ´ØªØ±ÛŒ Ø¨Ø±Ø±Ø³ÛŒ Ø´ÙˆÙ†Ø¯:

```jsx
import { render, screen } from "@testing-library/react";
import CarouselButton from "./CarouselButton";

describe("CarouselButton", () => {
  it("passes other props through to the <button>", () => {
    const className = "my-carousel-button";
    const dataAction = "prev";
    render(
      <CarouselButton className={className} data-action={dataAction}>
        Button text
      </CarouselButton>
    );
    expect(screen.getByRole("button")).toHaveClass(className);
    expect(screen.getByRole("button")).toHaveAttribute(
      "data-action",
      dataAction
    );
  });
});

```

ØªØ³Øª Ø¨Ù‡ Ú©Ø¯ Ø¨Ø§Ù„Ø§Øª ØºÛŒÛŒØ± Ù…Ú©ÛŒÙ†Ù‡

Ø®Ø¨ props- Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ù‡Ù…ÛŒØ´Ù‡ Ø¨Ø§ Ø®Ø· ØªÛŒØ±Ù‡ Ù‡Ø³ØªÙ†Ø¯ (Ù‡Ù…Ø§Ù†Ø·ÙˆØ± Ú©Ù‡ props- aria Ù†ÛŒØ² Ú©Ù‡ Ø¨Ø¹Ø¯Ø§Ù‹ Ø¨Ø§ Ø¢Ù†Ù‡Ø§ Ø¢Ø´Ù†Ø§ Ø®ÙˆØ§Ù‡ÛŒÙ… Ø´Ø¯ØŒ Ø§ÛŒÙ†Ø·ÙˆØ± Ù‡Ø³ØªÙ†Ø¯). props- Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø¯Ø± DOM Ù‡ÛŒÚ† Ù…Ø¹Ù†Ø§ÛŒÛŒ Ù†Ø¯Ø§Ø±Ù†Ø¯Ø› Ø¢Ù†Ù‡Ø§ Ø±Ø§Ù‡ÛŒ Ø¨Ø±Ø§ÛŒ Ø§ØªØµØ§Ù„ Ø¬ÙØªâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ Ùˆ Ù…Ù‚Ø¯Ø§Ø± Ø¯Ù„Ø®ÙˆØ§Ù‡ Ø¨Ù‡ Ø¹Ù†Ø§ØµØ± Ù‡Ø³ØªÙ†Ø¯.

Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ø¨Ù‡ Ú©Ø¯ Ø²ÛŒØ± ØªØºÛŒÛŒØ± Ù…ÛŒÚ©Ù†Ù‡

```jsx
import { ComponentPropsWithRef } from "react";
const CarouselButton = (props: ComponentPropsWithRef<"button">) => (
  <button {...props} />
);
export default CarouselButton;
```

{...props} is the JSX spread operator. Itâ€™s equivalent to passing each prop
in the props object through individually. That includes children, since the
tag itself has no children.

# Testing Nested Markup

ÙØ§ÛŒÙ„  `CarouselSlide.tsx`

```jsx
const CarouselSlide = () => <figure />;
export default CarouselSlide;
```

Ø¯Ø± `CarouselSlide.test.tsx`

```jsx
import { render, screen } from "@testing-library/react";
import CarouselSlide from "./CarouselSlide";

describe("CarouselSlide", () => {
  it("renders a <figure>", () => {
    render(<CarouselSlide />);
    expect(screen.getByRole("figure")).toBeInTheDocument();
  });
});

```

ØªÚ¯ figure Ø¯Ùˆ ØªØ§ ÙØ±Ø²Ù†Ø¯ Ø¯Ø§Ø±Ù‡ `<img>` `<figcaption>` 

Ùˆ Testing Library ØªØ´ÙˆÛŒÙ‚ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ ØªØ§ Ø­Ø¯ Ø§Ù…Ú©Ø§Ù† Ø§Ø² Ù†Ù‚Ø´â€ŒÙ‡Ø§ÛŒ ARIA Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯Ø› Ø¨Ù‡ Ø§ÛŒÙ† ØªØ±ØªÛŒØ¨ØŒ ØªØ³Øªâ€ŒÙ‡Ø§ Ø¨Ø§ Ø¨Ù‡ØªØ±ÛŒÙ† Ø±ÙˆØ´â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ù†ÙˆØ´ØªÙ† Ù…Ø§Ø±Ú©Ø§Ù¾ Ù‚Ø§Ø¨Ù„ Ø¯Ø³ØªØ±Ø³ Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.

The <img> tag has an
associated ARIA role: "img". The <figcaption> tag, on the other hand, does not.
So weâ€™ll use the data-testid attribute again to make it easy to select

ØªØ³Øª Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ± Ù…ÛŒØ´Ù‡

```jsx
import { render, screen } from "@testing-library/react";
import CarouselSlide from "./CarouselSlide";

describe("CarouselSlide", () => {
  it("renders an <img> and a <figcaption>", () => {
    render(<CarouselSlide />);
    const figure = screen.getByRole("figure");
    const img = screen.getByRole("img");
    const figcaption = screen.getByTestId("caption");
    expect(figure).toContainElement(img);
    expect(figure).toContainElement(figcaption);
  });
});

```

Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ø¨Ù‡ ØµÙˆØ±Øª 

```jsx
const CarouselSlide = () => (
  <figure>
    <img />
    <figcaption data-testid="caption" />
  </figure>
);
export default CarouselSlide;

```

Ùˆ ÛŒÚ© Ø³Ø±ÛŒ Ù¾Ø±Ø§Ù¾Ø³ Ø¯ÛŒÚ¯Ù‡ Ø¯Ø§Ø±ÛŒÙ…

1. imgUrl, a URL for the image displayed in the slide
2. description, a short piece of caption text
3. attribution, the name of imageâ€™s author
The imgUrl will be used as the src for the <img> tag. Add a test:

Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª

```jsx
import { ReactNode } from "react";
const CarouselSlide = ({
  imgUrl,
  description,
  attribution,
}: {
  imgUrl?: string;
  description?: ReactNode;
  attribution?: ReactNode;
}) => (
  <figure>
    <img src={imgUrl} />
    <figcaption data-testid="caption">
      <strong>{description}</strong> {attribution}
    </figcaption>
  </figure>
);
export default CarouselSlide;

```

ØªØ³Øª

```jsx
import { render, screen } from "@testing-library/react";
import CarouselSlide from "./CarouselSlide";

describe("CarouselSlide", () => {
  it("uses `description` and `attribution` as the caption", () => {
    const props = {
      description: "A jaw-droppingly spectacular image",
      attribution: "Trevor Burnham",
    };
    render(<CarouselSlide {...props} />);
    const figcaption = screen.getByTestId("caption");
    expect(figcaption).toHaveTextContent(
      `${props.description} ${props.attribution}`
    );
  });
});

```

Ù‡Ù†ÙˆØ² ÛŒÚ© ÙˆÛŒÚ˜Ú¯ÛŒ Ø§Ø² Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ù…Ø§ Ú©Ù… Ø§Ø³Øª: Ø¨Ø±Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ø§Ø³ØªØ§ÛŒÙ„â€ŒØ¯Ù‡ÛŒØŒ Ø¨Ø§ÛŒØ¯ propsâ€ŒÙ‡Ø§ÛŒ className Ùˆ style Ø±Ø§ Ø¨Ù‡ Ø¹Ù†ØµØ± <figure> Ù…Ù†ØªÙ‚Ù„ Ú©Ù†ÛŒÙ…. Ø¯Ø± ÙˆØ§Ù‚Ø¹ØŒ Ø¨Ø±Ø§ÛŒ Ø­Ø¯Ø§Ú©Ø«Ø± Ø§Ù†Ø¹Ø·Ø§Ùâ€ŒÙ¾Ø°ÛŒØ±ÛŒØŒ Ø¨Ø§ÛŒØ¯ Ø§Ø¬Ø§Ø²Ù‡ Ø¯Ù‡ÛŒÙ… Ú©Ù‡ Ù‡Ù†Ø¯Ù„Ø±Ù‡Ø§ÛŒ Ø§ÛŒÙˆÙ†ØªØŒ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ data- Ùˆ ØºÛŒØ±Ù‡ Ù†ÛŒØ² Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù‡ Ø´ÙˆÙ†Ø¯. Ø¨Ù‡ Ø·ÙˆØ± Ø®Ù„Ø§ØµÙ‡: Ø¨Ø§ÛŒØ¯ Ù‡Ù…Ù‡ propsâ€ŒÙ‡Ø§ Ø¨Ù‡ Ø¬Ø² Ø³Ù‡ Ù…ÙˆØ±Ø¯ÛŒ Ú©Ù‡ Ø¨Ù‡ ØµØ±Ø§Ø­Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ø±Ø§ Ø¨Ù‡ Ø¹Ù†ØµØ± <figure> Ù…Ù†ØªÙ‚Ù„ Ú©Ù†ÛŒÙ….

```jsx
import { render, screen } from "@testing-library/react";
import CarouselSlide from "./CarouselSlide";
describe("CarouselSlide", () => {
  it("renders a <figure>", () => {
    render(<CarouselSlide />);
    expect(screen.getByRole("figure")).toBeInTheDocument();
  });
  it("renders an <img> and a <figcaption>", () => {
    render(<CarouselSlide />);
    const figure = screen.getByRole("figure");
    const img = screen.getByRole("img");
    const figcaption = screen.getByTestId("caption");
    expect(figure).toContainElement(img);
    expect(figure).toContainElement(figcaption);
  });
  it("passes `imgUrl` through to the <img>", () => {
    const imgUrl = "https://example.com/image.png";
    render(<CarouselSlide imgUrl={imgUrl} />);
    expect(screen.getByRole("img")).toHaveAttribute("src", imgUrl);
  });
  it("uses `description` and `attribution` as the caption", () => {
    const props = {
      description: "A jaw-droppingly spectacular image",
      attribution: "Trevor Burnham",
    };
    render(<CarouselSlide {...props} />);
    const figcaption = screen.getByTestId("caption");
    expect(figcaption).toHaveTextContent(
      `${props.description} ${props.attribution}`
    );
  });
  it("passes other props through to the <figure>", () => {
    const props = {
      className: "my-carousel-slide",
      "data-test-name": "My slide",
    };
    render(<CarouselSlide {...props} />);
    const figure = screen.getByRole("figure");
    expect(figure).toHaveClass(props.className);
    expect(figure).toHaveAttribute("data-test-name", props["data-test-name"]);
  });
});

```

Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª

```jsx
import { ComponentPropsWithRef, ReactNode } from 'react';
const CarouselSlide = ({
  imgUrl,
  description,
  attribution,
  ...rest
}: {
  imgUrl?: string;
  description?: ReactNode;
  attribution?: ReactNode;
} & ComponentPropsWithRef<'figure'>) => (
  <figure {...rest}>
    <img src={imgUrl} />
    <figcaption data-testid="caption">
      <strong>{description}</strong> {attribution}
    </figcaption>
  </figure>
);
export default CarouselSlide;

```

Ù…Ø«Ù„ Ù‚Ø¨Ù„ØŒ ØªØ§Ø¨Ø¹ ØªÙ†Ù‡Ø§ ÛŒÚ© Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù† Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ Ú©Ù‡ Ø¨Ù‡ Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø§Ù…Ø§ Ø­Ø§Ù„Ø§ ÛŒÚ© Ø¢Ø¨Ø¬Ú©Øª Ø¨Ù‡ Ù†Ø§Ù… rest Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ ØªÙ…Ø§Ù… Ù…Ù‚Ø§Ø¯ÛŒØ± Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ Ø§Ø² Ø¢Ø¨Ø¬Ú©Øª props Ø±Ø§ Ú©Ù‡ Ø¨Ù‡â€ŒØ·ÙˆØ± ØµØ±ÛŒØ­ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù†Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯ØŒ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø§Ø² Ø·Ø±Ù Ø¯ÛŒÚ¯Ø±ØŒ Ú¯Ø³ØªØ±Ø´ JSX {...rest} Ø¬ÙØªâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯-Ù…Ù‚Ø¯Ø§Ø± Ø±Ø§ Ø§Ø² Ø¢Ø¨Ø¬Ú©Øª rest Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ Ùˆ Ø¢Ù†Ù‡Ø§ Ø±Ø§ Ø¨Ù‡ props ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø§Ø² Ø¢Ù†Ø¬Ø§ Ú©Ù‡ rest Ø¯Ø± Ø§ØµÙ„ Ø§Ø² propsâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡â€ŒØ§ÛŒ Ú©Ù‡ Ø¨Ù‡ CarouselSlide Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø¨ÙˆØ¯Ù†Ø¯ØŒ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø§Ø³ØªØŒ Ù†ØªÛŒØ¬Ù‡ Ø§ÛŒÙ† Ø§Ø³Øª Ú©Ù‡ Ø§ÛŒÙ† propsâ€ŒÙ‡Ø§ØŒ ÛŒØ¹Ù†ÛŒ Ù‡Ù…Ù‡ Ø¨Ù‡ Ø¬Ø² imgUrlØŒ description Ùˆ attributionØŒ Ø¨Ù‡ Ø¹Ù†ØµØ± <figure> Ù…Ù†ØªÙ‚Ù„ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.

Ø´Ø§ÛŒØ¯ Ø¨Ø§ Ø³ÛŒÙ†ØªÚ©Ø³ rest/spread Ø¯Ø± Ù„ÛŒØ³Øª Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù†â€ŒÙ‡Ø§ Ùˆ Ø¢Ø±Ø§ÛŒÙ‡â€ŒÙ‡Ø§ Ø¢Ø´Ù†Ø§ Ø¨Ø§Ø´ÛŒØ¯ØŒ Ú©Ù‡ Ø§Ø² ES6 Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø³ÛŒÙ†ØªÚ©Ø³ rest/spread Ø¨Ø±Ø§ÛŒ Ø¢Ø¨Ø¬Ú©Øªâ€ŒÙ‡Ø§ Ø¬Ø¯ÛŒØ¯ØªØ± Ø§Ø³Øª Ùˆ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø®Ø´ÛŒ Ø§Ø² Ù…Ø´Ø®ØµØ§Øª ES2018 Ø¨Ù‡ Ø²Ø¨Ø§Ù† Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù‡ Ø§Ø³Øª.

## Testing Stateful Components

ÙˆÛŒÚ˜Ú¯ÛŒ data-testid ÛŒÚ© Ø±ÙˆØ´ Ø±Ø§ÛŒØ¬ Ø¯Ø± React Testing Library Ø§Ø³Øª Ú©Ù‡ Ø¨Ø§Ø¹Ø« Ù…ÛŒâ€ŒØ´ÙˆØ¯ ÛŒÚ© Ø¹Ù†ØµØ± Ø®Ø§Øµ Ø¨Ù‡ Ø±Ø§Ø­ØªÛŒ Ø¯Ø± ØªØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø´ÙˆØ¯. Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¢Ù†ØŒ Ù…Ù‚Ø¯Ø§Ø± Ø§ÛŒÙ† ÙˆÛŒÚ˜Ú¯ÛŒ Ø±Ø§ Ø¨Ù‡ Ø³Ù„Ú©ØªÙˆØ± getByTestId() Ù¾Ø§Ø³ Ø¯Ù‡ÛŒØ¯:

ÙˆÛŒÚ˜Ú¯ÛŒ data-testid Ø±Ø§ Ø¨Ù‡ Ø¹Ù†ØµØ± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯ ØªØ§ Ø¨Ù‡ Ø±Ø§Ø­ØªÛŒ Ù‚Ø§Ø¨Ù„ Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ø± ØªØ³Øª Ø¨Ø§Ø´Ø¯. Ø³Ù¾Ø³ØŒ Ù…Ù‚Ø¯Ø§Ø± Ø§ÛŒÙ† ÙˆÛŒÚ˜Ú¯ÛŒ Ø±Ø§ Ø¨Ù‡ ØªØ§Ø¨Ø¹ getByTestId() Ø¯Ø± ØªØ³Øª Ù¾Ø§Ø³ Ø¯Ù‡ÛŒØ¯ ØªØ§ Ø¹Ù†ØµØ± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒØ¯.

Ú©Ø¯

```jsx
const Carousel = () => {
	return <div data-testid="carousel" />;
};
export default Carousel;
```

ØªØ³Øª

```jsx
import { render, screen } from "@testing-library/react";
import Carousel from "./Carousel";
describe("Carousel", () => {
	it("renders a <div>", () => {
		render(<Carousel />);
		expect(screen.getByTestId("carousel")).toBeInTheDocument();
	});
});
```

Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ù„ÛŒØ³ØªÛŒ Ø§Ø² Ø§Ø³Ù„Ø§ÛŒØ¯ Ù‡Ø§ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒÚ©Ù†Ù‡

```jsx
import { ReactNode } from "react";
import CarouselSlide from "./CarouselSlide";
type Slide = {
  imgUrl?: string;
  description?: ReactNode;
  attribution?: ReactNode;
};
const Carousel = ({ slides }: { slides?: Slide[] }) => {
  return (
    <div data-testid="carousel">
      <CarouselSlide {...slides?.[0]} />
    </div>
  );
};
export default Carousel;

```

Ùˆ ØªØ³Øª 

```jsx
import { render, screen } from "@testing-library/react";
import Carousel from "./Carousel";

describe("Carousel", () => {
  const slides = [
    {
      imgUrl: "https://example.com/slide1.png",
      description: "Slide 1",
      attribution: "Uno Pizzeria",
    },
    {
      imgUrl: "https://example.com/slide2.png",
      description: "Slide 2",
      attribution: "Dos Equis",
    },
    {
      imgUrl: "https://example.com/slide3.png",
      description: "Slide 3",
      attribution: "Three Amigos",
    },
  ];
  it("renders the first slide by default", () => {
    render(<Carousel slides={slides} />);
    const img = screen.getByRole("img");
    expect(img).toHaveAttribute("src", slides[0].imgUrl);
  });
});

```

Ø§ÛŒÙ† Ø§ÙˆÙ„ÛŒÙ† Ø¨Ø§Ø±ÛŒ Ø§Ø³Øª Ú©Ù‡ Ù…Ø§ ÛŒÚ© Ù†ÙˆØ¹ Ø±Ø§ Ø¬Ø¯Ø§ Ø§Ø² Ù„ÛŒØ³Øª Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù†â€ŒÙ‡Ø§ Ø§Ø¹Ù„Ø§Ù… Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ùˆ Ø§Ø² Ú©Ù„Ù…Ù‡ Ú©Ù„ÛŒØ¯ÛŒ type Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…. Ø§ÛŒÙ† Ú©Ø§Ø± Ø¨Ù‡ Ù…Ø§ Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ ØªØ§ Ø¨Ù‡ Ù†ÙˆØ¹ ØªÙˆØ³Ø· Ù†Ø§Ù… Ø¢Ù† Ø§Ø´Ø§Ø±Ù‡ Ú©Ù†ÛŒÙ…. Ø¯Ø± Ø¢ÛŒÙ†Ø¯Ù‡ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø¨Ø®ÙˆØ§Ù‡ÛŒÙ… Carousel Ùˆ CarouselSlide Ø±Ø§ Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ Ú©Ù†ÛŒÙ… ØªØ§ Ù‡Ø± Ø¯Ùˆ Ø§Ø² Ø§ÛŒÙ† Ù†ÙˆØ¹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ù†Ø¯ Ùˆ Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§ÛŒ imgUrlØŒ description Ùˆ attribution Ø±Ø§ ØªÚ©Ø±Ø§Ø± Ù†Ú©Ù†ÛŒÙ….

Ø³ÛŒÙ†ØªÚ©Ø³ Slide[] Ù†Ø´Ø§Ù†â€ŒØ¯Ù‡Ù†Ø¯Ù‡ ÛŒÚ© Ø¢Ø±Ø§ÛŒÙ‡ Ø§Ø² Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¨Ø§ Ù†ÙˆØ¹ Slide Ù…Ø·Ø§Ø¨Ù‚Øª Ø¯Ø§Ø±Ù†Ø¯. TypeScript Ù‡Ù…Ú†Ù†ÛŒÙ† Ø§Ø² Ø³ÛŒÙ†ØªÚ©Ø³ Ù…Ø¹Ø§Ø¯Ù„ Array<Slide> Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

 Ø¨Ù‡ ÛŒØ§Ø¯ Ø¯Ø§Ø±ÛŒØ¯ Ú©Ù‡ Ø§Ø² Ø¹Ù…Ù„Ú¯Ø± Ú¯Ø³ØªØ±Ø´ prop Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ…ØŸ Ù…Ø§ Ø§Ø² Ø³ÛŒÙ†ØªÚ©Ø³ {...rest} Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… ØªØ§ Ù‡Ø± Ø¬ÙØª Ú©Ù„ÛŒØ¯-Ù…Ù‚Ø¯Ø§Ø± Ø§Ø² Ø¢Ø¨Ø¬Ú©Øª rest Ø±Ø§ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ© prop Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ù…Ù†ØªÙ‚Ù„ Ú©Ù†ÛŒÙ…. Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù…Ø§ Ù‡Ù…ÛŒÙ† Ú©Ø§Ø± Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡ÛŒÙ…ØŒ Ø§Ù…Ø§ Ø¨Ø§ Ø¢Ø¨Ø¬Ú©Øª slides[0]ØŒ Ùˆ ÙÙ‚Ø· Ø¯Ø± ØµÙˆØ±ØªÛŒ Ú©Ù‡ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯: Ø³ÛŒÙ†ØªÚ©Ø³ slides?.[0] Ù…Ù‚Ø¯Ø§Ø± undefined Ø±Ø§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯ Ø§Ú¯Ø± Ø®ÙˆØ¯ slides ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ØŒ Ùˆ Ú¯Ø³ØªØ±Ø´ undefined Ù‡ÛŒÚ† Ø§Ø«Ø±ÛŒ Ù†Ø¯Ø§Ø±Ø¯.

Ù†ÛŒØ§Ø² Ù…Ù†Ø¯ÛŒ Ù‡Ø§ÛŒ Ø¨Ø¹Ø¯ÛŒ

Ú©Ø§Ø±ÙˆØ³Ù„ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ÛŒÚ© Ø¹Ø¯Ø¯ Ø¨Ù‡ Ù†Ø§Ù… slideIndexØŒ Ø§Ø³Ù„Ø§ÛŒØ¯ ÙØ¹Ù„ÛŒ Ø±Ø§ Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

- slideIndex Ø§Ø¨ØªØ¯Ø§ 0 Ø§Ø³ØªØŒ Ø¨Ù‡ Ø§ÛŒÙ† Ù…Ø¹Ù†ÛŒ Ú©Ù‡ Ø§ÙˆÙ„ÛŒÙ† Ø§Ø³Ù„Ø§ÛŒØ¯ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
- Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ "Prev"ØŒ slideIndex Ú©Ø§Ù‡Ø´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯ Ùˆ ÙˆÙ‚ØªÛŒ Ø¨Ù‡ Ú©Ù…ØªØ± Ø§Ø² 0 Ù…ÛŒâ€ŒØ±Ø³Ø¯ØŒ Ø¨Ù‡ Ø¢Ø®Ø±ÛŒÙ† Ø§Ø³Ù„Ø§ÛŒØ¯ Ù…ÛŒâ€ŒØ±ÙˆØ¯.
- Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ "Next"ØŒ slideIndex Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯ Ùˆ ÙˆÙ‚ØªÛŒ Ø¨Ù‡ Ø¨ÛŒØ´ØªØ± Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† Ø§Ø³Ù„Ø§ÛŒØ¯ Ù…ÛŒâ€ŒØ±Ø³Ø¯ØŒ Ø¨Ù‡ Ø§ÙˆÙ„ÛŒÙ† Ø§Ø³Ù„Ø§ÛŒØ¯ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø¯.
- Ú©Ø§Ø±ÙˆØ³Ù„ ÛŒÚ© Ø¢Ø±Ø§ÛŒÙ‡ Ø¨Ù‡ Ù†Ø§Ù… slides Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ Ùˆ Ø§Ø³Ù„Ø§ÛŒØ¯ÛŒ Ø±Ø§ Ú©Ù‡ ØªÙˆØ³Ø· slideIndex Ù…Ø´Ø®Øµ Ø´Ø¯Ù‡ØŒ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.

### Testing Interactions

Ø¨Ø±Ø®Ù„Ø§Ù EnzymeØŒ React Testing Library (RTL) Ø§Ø¬Ø§Ø²Ù‡ Ù†Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ú©Ù‡ Ø¨Ù‡ ÙˆØ¶Ø¹ÛŒØª Ø¯Ø§Ø®Ù„ÛŒ (state) Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¯Ø³ØªØ±Ø³ÛŒ Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒÙ…. Ø§Ø¬Ø²Ø§ÛŒ Ø¯Ø§Ø®Ù„ÛŒ Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ© Ø¬Ø¹Ø¨Ù‡ Ø³ÛŒØ§Ù‡ Ø¯Ø± Ù†Ø¸Ø± Ú¯Ø±ÙØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯. Ø¨Ù†Ø§Ø¨Ø±Ø§ÛŒÙ† Ø±ÙˆØ´ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ù…Ø§ Ø¨Ø±Ø§ÛŒ ØªØ³Øª ÙˆØ¶Ø¹ÛŒØª ÛŒÚ© Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ø¨Ù‡ Ø§ÛŒÙ† ØµÙˆØ±Øª Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯:

1. Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ø±Ø§ Ø±Ù†Ø¯Ø± Ú©Ù†ÛŒÙ….
2. Ùˆ interactionÚ©Ø§Ø±Ø¨Ø± Ø±Ø§ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù†ÛŒÙ….
3. Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒÙ… Ú©Ù‡ Ø®Ø±ÙˆØ¬ÛŒ DOM Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ù…Ø·Ø§Ø¨Ù‚ Ø§Ù†ØªØ¸Ø§Ø± Ù…Ø§ ØªØºÛŒÛŒØ± Ú©Ù†Ø¯.

Ø¨Ø±Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ interaction Ú©Ø§Ø±Ø¨Ø±ØŒ Ø¨Ù‡ ÛŒÚ© ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ Ø§Ø¶Ø§ÙÛŒ Ù†ÛŒØ§Ø² Ø®ÙˆØ§Ù‡ÛŒÙ… Ø¯Ø§Ø´Øª.

Ù†ØµØ¨

```jsx
npm install --save-dev @testing-library/user-event@14.4.3
```

Ø¯ÙˆØªØ§ intraction Ø¯Ø§Ø±ÛŒÙ… Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ prev Ùˆ next

```jsx
import userEvent from "@testing-library/user-event";
...
it('advances the slide when the Next button is clicked', async () => { //1
  render(<Carousel slides={slides} />);
  const img = screen.getByRole('img');
  const nextButton = screen.getByTestId('next-button');
  const user = userEvent.setup();

  await user.click(nextButton); //2
  expect(img).toHaveAttribute('src', slides[1].imgUrl);
  await user.click(nextButton);
  expect(img).toHaveAttribute('src', slides[2].imgUrl);
  await user.click(nextButton);
  expect(img).toHaveAttribute('src', slides[0].imgUrl);
});

```

Ø¯Ù‚Øª Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ø§ÛŒÙ† ØªØ³Øª Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ© ØªØ§Ø¨Ø¹ async Ù…Ø¹Ø±ÙÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª ØªØ§ Ø¨ØªÙˆØ§Ù†Ø¯ Ø§Ø² Ú©Ù„Ù…Ù‡ Ú©Ù„ÛŒØ¯ÛŒ await Ø¨Ø±Ø§ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¹Ù…Ù„ÛŒØ§Øªâ€ŒÙ‡Ø§ÛŒ ØºÛŒØ±Ù‡Ù…Ø²Ù…Ø§Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ø¯.

Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Testing Library Ù‡Ù…ÛŒØ´Ù‡ ØªÙˆØ§Ø¨Ø¹ async Ù‡Ø³ØªÙ†Ø¯. Ø§ÛŒÙ† Ú©Ø§Ø± Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ ØªØ§ Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø¨Ù‡ Ø·ÙˆØ± Ú©Ø§Ù…Ù„ Ø­Ù„ Ø´ÙˆØ¯ Ùˆ DOM Ù‚Ø¨Ù„ Ø§Ø² Ø§Ø¯Ø§Ù…Ù‡ ØªØ³Øª Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´ÙˆØ¯. ÛŒÚ© Ø§Ø´ØªØ¨Ø§Ù‡ Ø±Ø§ÛŒØ¬ Ú©Ù‡ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ù…Ø±ØªÚ©Ø¨ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ØŒ Ø¹Ø¯Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² await Ø¨Ø±Ø§ÛŒ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ ØªØ§Ø¨Ø¹ async Ø§Ø³ØªØ› Ø®ÙˆØ´Ø¨Ø®ØªØ§Ù†Ù‡ØŒ Ù‚Ø§Ù†ÙˆÙ† no-floating-promises Ø¯Ø± `typescript-eslint` (Ú©Ù‡ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø®Ø´ÛŒ Ø§Ø² `@typescript-eslint/recommended-requiring-type-checking` ÙØ¹Ø§Ù„ Ø´Ø¯Ù‡ Ø§Ø³Øª) Ø§ÛŒÙ† Ù…ÙˆØ±Ø¯ Ø±Ø§ ØªØ´Ø®ÛŒØµ Ø®ÙˆØ§Ù‡Ø¯ Ø¯Ø§Ø¯!

```jsx
import { ReactNode, useState } from "react";
import CarouselSlide from "./CarouselSlide";
import CarouselButton from "./CarouselButton";

type Slide = {
  imgUrl?: string;
  description?: ReactNode;
  attribution?: ReactNode;
};

const Carousel = ({ slides }: { slides?: Slide[] }) => {
  const [slideIndex, setSlideIndex] = useState(0); //1
  return (
    <div data-testid="carousel">
      <CarouselSlide {...slides?.[slideIndex]} />
      <CarouselButton
        data-testid="next-button"
        onClick={() => {
          if (!slides) return;
          setSlideIndex((i) => (i + 1) % slides.length); //2
        }}
      >
        Next
      </CarouselButton>
    </div>
  );
};
export default Carousel;

```

Ø³ÛŒÙ†ØªÚ©Ø³ useState(0) Ø¨Ù‡ Ø§ÛŒÙ† Ù…Ø¹Ù†Ø§Ø³Øª Ú©Ù‡ "Ø§Ø² 0 Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù…Ù‚Ø¯Ø§Ø± Ø§ÙˆÙ„ÛŒÙ‡ Ø§ÛŒÙ† state Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†."

Ùˆ SetterÙ‡Ø§ÛŒ state Ù…Ø§Ù†Ù†Ø¯ setSlideIndex Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ ÛŒØ§ ÛŒÚ© Ù…Ù‚Ø¯Ø§Ø± Ø®Ø§Ù… ÛŒØ§ ÛŒÚ© ØªØ§Ø¨Ø¹ callback Ø¨Ù¾Ø°ÛŒØ±Ù†Ø¯. ØªØ§Ø¨Ø¹ callback Ù…Ù‚Ø¯Ø§Ø± ÙØ¹Ù„ÛŒ state Ø±Ø§ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù† Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ Ùˆ Ù…Ù‚Ø¯Ø§Ø± Ø¬Ø¯ÛŒØ¯ Ø±Ø§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯. Ù…Ø§ Ø§Ø² callback Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ø¨Ù‡ Ø¬Ø§ÛŒ setSlideIndex((slideIndex + 1) % slides.length) Ø¨Ø±Ø§ÛŒ Ù…Ù‚Ø§Ø¨Ù„Ù‡ Ø¨Ø§ ÛŒÚ© Ù…ÙˆØ±Ø¯ Ù†Ø§Ø¯Ø±: Ù…Ù…Ú©Ù† Ø§Ø³Øª Ú©Ø§Ø±Ø¨Ø± Ù‚Ø¨Ù„ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Carousel Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø±Ù†Ø¯Ø± Ø´ÙˆØ¯ØŒ Ø¯Ùˆ Ø¨Ø§Ø± Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ú©Ù„ÛŒÚ© Ú©Ù†Ø¯ØŒ Ø¯Ø± Ø§ÛŒÙ† ØµÙˆØ±Øª Ù‡Ù†Ø¯Ù„Ø± onClick Ø¨Ø±Ø§ÛŒ Ú©Ù„ÛŒÚ© Ø¯ÙˆÙ… Ù‡Ù…Ø§Ù† Ù…Ù‚Ø¯Ø§Ø± slideIndex Ø±Ø§ Ù…ÛŒâ€ŒØ¨ÛŒÙ†Ø¯ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ú©Ù„ÛŒÚ© Ø§ÙˆÙ„ Ø¯ÛŒØ¯Ù‡ Ø¨ÙˆØ¯ØŒ Ú©Ù‡ Ø§ÛŒÙ† Ø¨Ø§Ø¹Ø« Ù…ÛŒâ€ŒØ´ÙˆØ¯ setter Ù…Ø³ØªÙ‚ÛŒÙ… Ù‡ÛŒÚ† Ø§Ø«Ø±ÛŒ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯.

Ùˆ Ø¯Ú©Ù…Ù‡ next

ØªØ³Øª

```jsx
import { render, screen } from "@testing-library/react";
import userEvent from "@testing-library/user-event";
import Carousel from "./Carousel";

describe("Carousel", () => {
  const slides = [
    {
      imgUrl: "https://example.com/slide1.png",
      description: "Slide 1",
      attribution: "Uno Pizzeria",
    },
    {
      imgUrl: "https://example.com/slide2.png",
      description: "Slide 2",
      attribution: "Dos Equis",
    },
    {
      imgUrl: "https://example.com/slide3.png",
      description: "Slide 3",
      attribution: "Three Amigos",
    },
  ];
  it("renders a <div>", () => {
    render(<Carousel />);
    expect(screen.getByTestId("carousel")).toBeInTheDocument();
  });
  it("renders the first slide by default", () => {
    render(<Carousel slides={slides} />);
    const img = screen.getByRole("img");
    expect(img).toHaveAttribute("src", slides[0].imgUrl);
  });
  it("reverses the slide when the Prev button is clicked", async () => {
    render(<Carousel slides={slides} />);
    const img = screen.getByRole("img");
    const prevButton = screen.getByTestId("prev-button");
    const user = userEvent.setup();

    await user.click(prevButton);
    expect(img).toHaveAttribute("src", slides[2].imgUrl);
    await user.click(prevButton);
    expect(img).toHaveAttribute("src", slides[1].imgUrl);
    await user.click(prevButton);
    expect(img).toHaveAttribute("src", slides[0].imgUrl);
  });
  it("advances the slide when the Next button is clicked", async () => {
    render(<Carousel slides={slides} />);
    const img = screen.getByRole("img");
    const nextButton = screen.getByTestId("next-button");
    const user = userEvent.setup();
    await user.click(nextButton);
    expect(img).toHaveAttribute("src", slides[1].imgUrl);
    await user.click(nextButton);
    expect(img).toHaveAttribute("src", slides[2].imgUrl);
    await user.click(nextButton);
    expect(img).toHaveAttribute("src", slides[0].imgUrl);
  });
});

```

Ú©Ø¯

```jsx
import { ReactNode, useState } from 'react';
import CarouselButton from './CarouselButton';
import CarouselSlide from './CarouselSlide';
type Slide = {
  imgUrl?: string;
  description?: ReactNode;
  attribution?: ReactNode;
};
const Carousel = ({ slides }: { slides?: Slide[] }) => {
  const [slideIndex, setSlideIndex] = useState(0);
  return (
    <div data-testid="carousel">
      <CarouselSlide {...slides?.[slideIndex]} />
      {}
      <CarouselButton
        data-testid="prev-button"
        onClick={() => {
          if (!slides) return;
          setSlideIndex((i) => (i + slides.length - 1) % slides.length);
        }}
      >
        Prev
      </CarouselButton>
      {}
      <CarouselButton
        data-testid="next-button"
        onClick={() => {
          if (!slides) return;
          setSlideIndex((i) => (i + 1) % slides.length);
        }}
      >
        Next
      </CarouselButton>
    </div>
  );
};
export default Carousel;

```

# Styled components

Ù…Ù‡Ù…ØªØ±ÛŒÙ† Ù…Ø²ÛŒØª Ø§Ø³ØªÙØ§Ø¯Ù‡

Styles can be subjected to unit tests.

Ù†ØµØ¨

```jsx
npm install --save styled-components@6.0.5
```

Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ù‡ÛŒ Ø§Ø³Ù„Ø§ÛŒØ¯

```jsx
import { ComponentPropsWithRef, ReactNode } from "react";
import styled from "styled-components";
const ScaledImg = styled.img`
  object-fit: cover;
  width: 100%;
  height: 500px;
`;
const CarouselSlide = ({
  imgUrl,
  description,
  attribution,
  ...rest
}: {
  imgUrl?: string;
  description?: ReactNode;
  attribution?: ReactNode;
} & ComponentPropsWithRef<"figure">) => (
  <figure {...rest}>
    <ScaledImg src={imgUrl} />
    <figcaption data-testid="caption">
      <strong>{description}</strong> {attribution}
    </figcaption>
  </figure>
);
export default CarouselSlide;

```

Ùˆ styled.img ÛŒÚ© ØªØ§Ø¨Ø¹ Ø§Ø³Øª Ú©Ù‡ ÛŒÚ© Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ ÛŒÚ© ØªÚ¯ <img> Ø±Ø§ Ø¨Ø§ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø±Ù†Ø¯Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯. ÙˆÙ‚ØªÛŒ ÛŒÚ© Ù†Ù…ÙˆÙ†Ù‡ Ø§Ø² Ø¢Ù† Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª ScaledImg Ù†ØµØ¨ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ styled-components Ø¨Ù‡ ØµÙˆØ±Øª Ù¾ÙˆÛŒØ§ ÛŒÚ© Ù‚Ø§Ù†ÙˆÙ† Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø§ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø´Ù…Ø§ ÙØ±Ø§Ù‡Ù… Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯ØŒ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ÛŒÚ© selector Ù†Ø§Ù… Ú©Ù„Ø§Ø³ Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± Ù‡Ø´ Ø¢Ù† Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ØŒ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

Ø§ÛŒÙ†Ø¬Ø§ ÛŒÙ‡ Ú©Ù… Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø³ÛŒÙ†ØªÚ©Ø³ Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¨Ù‡ Ú©Ù…Ú© ÛŒÚ© ÙˆÛŒÚ˜Ú¯ÛŒ Ø§Ø² ES6 Ø¨Ù‡ Ù†Ø§Ù… tagged templates Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´Ù‡. Ø§Ú¯Ù‡ ÛŒÙ‡ ØªØ§Ø¨Ø¹ Ø±Ùˆ Ù…Ø³ØªÙ‚ÛŒÙ… Ø¬Ù„ÙˆÛŒ ÛŒÙ‡ template string Ø¨Ø°Ø§Ø±ÛŒ (Ù‡Ù…ÙˆÙ†Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø§ backticks Ù…Ø´Ø®Øµ Ù…ÛŒâ€ŒØ´Ù†)ØŒ Ø§ÙˆÙ† ØªØ§Ø¨Ø¹ Ø¨Ø§ template string Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù† ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ÛŒâ€ŒØ´Ù‡.

Ø¨Ø±Ø§ÛŒ ScaledImgØŒ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ø§Ø² Ø³ÛŒÙ†ØªÚ©Ø³ Ù…Ø¹Ù…ÙˆÙ„ÛŒ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ ØªØ§Ø¨Ø¹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØŒ Ú†ÙˆÙ† Ø±Ø´ØªÙ‡â€ŒÛŒ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø«Ø§Ø¨ØªÙ‡. Ø§Ù…Ø§ Ù‚Ø¯Ø±Øª tagged template Ø²Ù…Ø§Ù†ÛŒ Ø¨Ù‡ Ú©Ø§Ø± Ù…ÛŒØ§Ø¯ Ú©Ù‡ Ø±Ø´ØªÙ‡ Ø¯Ø§Ø±Ø§ÛŒ interpolations (Ø³ÛŒÙ†ØªÚ©Ø³ ${...}) Ø¨Ø§Ø´Ù‡: Ù‡Ø± ØªÚ©Ù‡ Ø§Ø² Ø±Ø´ØªÙ‡â€ŒÛŒ interpolated Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù† Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ø¨Ù‡ ØªØ§Ø¨Ø¹ Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´Ù‡. Ø§ÛŒÙ† Ø¨Ù‡ ØªØ§Ø¨Ø¹ ØªÚ¯ Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡ Ú©Ù‡ Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ interpolated Ø±Ùˆ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ú©Ù†Ù‡. Ù‡Ù…ÙˆÙ†Ø·ÙˆØ± Ú©Ù‡ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ù…ÛŒâ€ŒØ¨ÛŒÙ†ÛŒÙ…ØŒ styled-components Ø§Ø² Ø§ÛŒÙ† Ù‚Ø§Ø¨Ù„ÛŒØª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù‡.

ÛŒÚ© Ù¾Ø±Ø§Ù¾Ø³ imgHeight Ø¯Ø± Ù†Ø¸Ø± Ù…ÛŒÚ¯ÛŒØ±ÛŒÙ…

```jsx
import { ComponentPropsWithRef, ReactNode } from "react";
import styled from "styled-components";
const DEFAULT_IMG_HEIGHT = "500px";

export type CarouselSlideProps = {
  imgUrl?: string;
  /** @default "500px" */
  imgHeight?: string | number;
  description?: ReactNode;
  attribution?: ReactNode;
} & ComponentPropsWithRef<"figure">;

type ImgComponentProps = {
  $height?: CarouselSlideProps["imgHeight"];
};
const ScaledImg = styled.img<ImgComponentProps>`
  object-fit: cover;
  width: 100%;
  height: ${(props) =>
    typeof props.$height === "number" ? `${props.$height}px` : props.$height};
`;
const CarouselSlide = ({
  imgUrl,
  imgHeight = DEFAULT_IMG_HEIGHT,
  description,
  attribution,
  ...rest
}: CarouselSlideProps) => (
  <figure {...rest}>
    {}
    <ScaledImg src={imgUrl} $height={imgHeight} />
    {}
    <figcaption data-testid="caption">
      <strong>{description}</strong> {attribution}
    </figcaption>
  </figure>
);
export default CarouselSlide;

```

Ø³ÛŒÙ†ØªÚ©Ø³ /** ... */ Ù†Ø´Ø§Ù†â€ŒØ¯Ù‡Ù†Ø¯Ù‡ ÛŒÚ© Ú©Ø§Ù…Ù†Øª JSDoc Ø§Ø³Øª. Ø§ÛŒÙ† Ú©Ø§Ù…Ù†Øªâ€ŒÙ‡Ø§ Ø¨Ø± Ø±ÙØªØ§Ø± Ú©Ø¯ ÛŒØ§ Ú†Ú©â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ù†ÙˆØ¹ (typechecker) ØªØ£Ø«ÛŒØ±ÛŒ Ù†Ø¯Ø§Ø±Ù†Ø¯ØŒ Ø§Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…ÙÛŒØ¯ÛŒ Ø¨Ù‡ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù†ÛŒ Ú©Ù‡ Ø§Ø² Ú©Ø¯ Ø´Ù…Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ØŒ Ø§Ø±Ø§Ø¦Ù‡ Ø¯Ù‡Ù†Ø¯ Ùˆ Ù†ÙˆØ¹â€ŒÙ‡Ø§ÛŒ TypeScript Ø±Ø§ ØªÚ©Ù…ÛŒÙ„ Ú©Ù†Ù†Ø¯.

Ù…Ø«Ù„Ø§Ù‹ØŒ Ø¯Ø± VS Code Ø§Ú¯Ø± Ù…Ø§ÙˆØ³ Ø±Ø§ Ø±ÙˆÛŒ imgHeight Ø¯Ø± <CarouselSlide imgHeight={}> Ø¨Ø¨Ø±ÛŒØ¯ØŒ ÙˆÛŒØ±Ø§ÛŒØ´Ú¯Ø± Ù‡Ù… Ù†ÙˆØ¹ TypeScript Ø¢Ù† Ùˆ Ù‡Ù… JSDoc Ù…Ø±ØªØ¨Ø· Ø±Ø§ Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯. Ø§ÛŒÙ†Ø¬Ø§ØŒ Ú©Ø§Ù…Ù†Øª JSDoc Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ú©Ù‡ Ù…Ù‚Ø¯Ø§Ø± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ÛŒ Ú©Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ø§Ú¯Ø± prop imgHeight ØªÙ†Ø¸ÛŒÙ… Ù†Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ØŒ "500px" Ø§Ø³Øª.

Ù†ÙˆØ¹ ImgComponentProps Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ© Ù¾Ø§Ø±Ø§Ù…ØªØ± Ù†ÙˆØ¹ Ø¨Ø±Ø§ÛŒ ØªØ§Ø¨Ø¹ styled.img Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø¯Ø± Ø§ÛŒÙ† Ù…ÙˆØ±Ø¯ØŒ Ù¾Ø§Ø±Ø§Ù…ØªØ± Ù†ÙˆØ¹ Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ú©Ù‡ Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒØ§ÛŒ Ø§Ø² propsâ€ŒÙ‡Ø§ Ú©Ù‡ Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª ScaledImg Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Ø¢Ù† ØªØ§Ø¨Ø¹ Ù‚Ø§Ø¯Ø± Ø¨Ù‡ Ù¾Ø°ÛŒØ±Ø´ Ø¢Ù†Ù‡Ø§ Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯ØŒ Ø¹Ù„Ø§ÙˆÙ‡ Ø¨Ø± Ù‡Ø± Ú†ÛŒØ²ÛŒ Ú©Ù‡ ØªÚ¯ img Ø¨ÙˆÙ…ÛŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ù¾Ø°ÛŒØ±Ø¯. Ù¾ÛŒØ´ÙˆÙ†Ø¯ $ Ø¯Ø± $height ÛŒÚ© Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø¯Ø± styled-components Ø§Ø³Øª Ú©Ù‡ Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ ÛŒÚ© prop Ù…ÙˆÙ‚ØªÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ interpolated Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ø§Ù…Ø§ Ø¨Ù‡ ØªÚ¯ <img> Ø¯Ø± DOM Ù…Ù†ØªÙ‚Ù„ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯.

Ø§ÛŒÙ†Ø¬Ø§ Ø¬Ø§ÛŒÛŒÙ‡ Ú©Ù‡ styled-components ÙˆØ§Ù‚Ø¹Ø§Ù‹ Ø¬Ø°Ø§Ø¨ Ù…ÛŒâ€ŒØ´Ù‡: Ù…Ù‚Ø§Ø¯ÛŒØ± interpolated Ø¯Ø± Ù‚Ø§Ù„Ø¨ Ø§Ø³ØªØ§ÛŒÙ„ Ù…ÛŒâ€ŒØªÙˆÙ†Ù† Ø¨Ù‡ ØªØ§Ø¨Ø¹ÛŒ Ø§Ø² propsâ€ŒÙ‡Ø§ÛŒ Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª ØªØ¨Ø¯ÛŒÙ„ Ø¨Ø´Ù†! Ø¯Ø± Ø­Ø§Ù„ÛŒ Ú©Ù‡ CSS Ù…Ø¹Ù…ÙˆÙ„ÛŒ Ø«Ø§Ø¨ØªÙ‡ØŒ Ø§ÛŒÙ† Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¯ÛŒÙ†Ø§Ù…ÛŒÚ© Ù‡Ø³ØªÙ†. Ø§Ú¯Ù‡ prop imgHeight ØªØºÛŒÛŒØ± Ú©Ù†Ù‡ØŒ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø¨Ù‡ Ø·ÙˆØ± Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÛŒâ€ŒØ´Ù†.

Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø±ØŒ imgHeight Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ Ø¨Ù‡ ØµÙˆØ±Øª Ø§Ø³Ù„Ø§ÛŒØ¯ Ø¨Ù‡ Ø§Ø³Ù„Ø§ÛŒØ¯ ØªØºÛŒÛŒØ± Ú©Ù†Ù‡ØŒ Ú†ÙˆÙ† Carousel Ú©Ù„ Ø¢Ø¨Ø¬Ú©Øª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø³Ù„Ø§ÛŒØ¯ Ø±Ùˆ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† props Ø¨Ù‡ CarouselSlide Ù…Ù†ØªÙ‚Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ù‡. Ø§Ù…Ø§ Ø¯Ø± Ø¨ÛŒØ´ØªØ± Ù…ÙˆØ§Ø±Ø¯ØŒ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ø§Ø² Carousel Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù‡ØŒ Ù…ÛŒâ€ŒØ®ÙˆØ§Ø¯ Ú©Ù‡ Ø§Ø±ØªÙØ§Ø¹ Ø«Ø§Ø¨Øª Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡. Ø¨Ù†Ø§Ø¨Ø±Ø§ÛŒÙ†ØŒ Ø¨ÛŒØ§ÛŒÛŒØ¯ ÛŒÚ© prop Ø¨Ù‡ Carousel Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒÙ… Ú©Ù‡ Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ Ù…Ù‚Ø¯Ø§Ø± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ imgHeight Ø¯Ø± CarouselSlide Ø±Ùˆ ØªØºÛŒÛŒØ± Ø¨Ø¯Ù‡:

carousel:

```jsx
import { ReactNode, useState } from "react";
import CarouselButton from "./CarouselButton";
import CarouselSlide, { CarouselSlideProps } from "./CarouselSlide";
type Slide = {
  imgUrl?: string;
  description?: ReactNode;
  attribution?: ReactNode;
};

export type CarouselProps = {
  slides: Slide[];
  defaultImgHeight?: CarouselSlideProps["imgHeight"];
};

const Carousel = ({ slides, defaultImgHeight }: CarouselProps) => {
  const [slideIndex, setSlideIndex] = useState(0);
  return (
    <div data-testid="carousel">
      â· <CarouselSlide imgHeight={defaultImgHeight} {...slides?.[slideIndex]} />
      {}
      <CarouselButton
        data-testid="prev-button"
        onClick={() => {
          if (!slides) return;
          setSlideIndex((i) => (i + slides.length - 1) % slides.length);
        }}
      >
        Prev
      </CarouselButton>
      {}
      <CarouselButton
        data-testid="next-button"
        onClick={() => {
          if (!slides) return;
          setSlideIndex((i) => (i + 1) % slides.length);
        }}
      >
        Next
      </CarouselButton>
    </div>
  );
};
export default Carousel;

```

Ø³ÛŒÙ†ØªÚ©Ø³ CarouselSlideProps["imgHeight"] Ø¨Ù‡ Ù†ÙˆØ¹ ÙÛŒÙ„Ø¯ imgHeight Ø¯Ø± CarouselSlideProps Ø§Ø´Ø§Ø±Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

ØªÙˆØ¬Ù‡ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ Ú©Ù‡ ØªØ±ØªÛŒØ¨ Ø§ÛŒÙ†Ø¬Ø§ Ù…Ù‡Ù… Ø§Ø³Øª: Ú†ÙˆÙ† Ú¯Ø³ØªØ±Ø´ ...slides?.[slideIndex] Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ imgHeight Ø¨Ù‡ defaultImgHeight ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡ØŒ Ù…ÛŒâ€ŒØ¢ÛŒØ¯ØŒ Ù…Ù‚Ø¯Ø§Ø± imgHeight Ø§Ø² Ø§Ø³Ù„Ø§ÛŒØ¯ Ø§ÙˆÙ„ÙˆÛŒØª Ø®ÙˆØ§Ù‡Ø¯ Ø¯Ø§Ø´Øª (Ø§Ú¯Ø± ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯).

Ø­Ø§Ù„Ø§ Ø³Ø¹ÛŒ Ú©Ù†ÛŒØ¯ defaultImgHeight Ø±Ø§ Ø±ÙˆÛŒ ExampleCarousel ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ø§ÛŒØ¯ Ø¨Ø¨ÛŒÙ†ÛŒØ¯ Ú©Ù‡ Ø§Ø±ØªÙØ§Ø¹ Ú©Ø§Ø±ÙˆØ³Ù„ Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø± ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

Ø´Ø§ÛŒØ¯ Ø§ÛŒÙ† Ø³ÙˆØ§Ù„ Ù¾ÛŒØ´ Ø¨ÛŒØ§ÛŒØ¯: styled-components Ú†Ú¯ÙˆÙ†Ù‡ Ø§ÛŒÙ† Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ù‡ ØªÚ¯ <img> Ø§Ø¹Ù…Ø§Ù„ Ú©Ø±Ø¯Ù‡ Ø§Ø³ØªØŸ Ø§Ú¯Ø± ÛŒÚ©ÛŒ Ø§Ø² ØªÚ¯â€ŒÙ‡Ø§ÛŒ <img> Ø±Ø§ Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø± Ø¨Ø§Ø²Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯ØŒ Ù‡Ù…Ø§Ù†â€ŒØ·ÙˆØ± Ú©Ù‡ Ø¯Ø± Ø§Ø³Ú©Ø±ÛŒÙ†â€ŒØ´Ø§Øª Ø¨Ø¹Ø¯ÛŒ Ù†Ø´Ø§Ù† Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ØŒ Ø®ÙˆØ§Ù‡ÛŒØ¯ Ø¯ÛŒØ¯ Ú©Ù‡ ÙˆÛŒÚ˜Ú¯ÛŒ Ú©Ù„Ø§Ø³ Ø¢Ù† Ù¾Ø± Ø§Ø² Ú©Ø¯Ù‡Ø§ÛŒ Ø¹Ø¬ÛŒØ¨ Ùˆ ØºØ±ÛŒØ¨ Ø§Ø³Øª. Ú†ÛŒØ²ÛŒ Ø´Ø¨ÛŒÙ‡ Ø¨Ù‡ class="sc-bdVaJa hhfYDU". Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ styled-components Ø§ÛŒÙ† Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ú©Ù„Ø§Ø³ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ ØªÙˆÙ„ÛŒØ¯ Ú©Ø±Ø¯Ù‡ Ùˆ ÛŒÚ© Ù‚Ø§Ù†ÙˆÙ† Ø§Ø³ØªØ§ÛŒÙ„ Ù…Ø±Ø¨ÙˆØ·Ù‡ Ø±Ø§ Ø¨Ù‡ ÛŒÚ© ØªÚ¯ <style> Ø¯Ø± <head> ØµÙØ­Ù‡ ØªØ²Ø±ÛŒÙ‚ Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/28aaf9fb-7428-4beb-aec8-317950f18fb8/1750c4f0-8f00-4f25-9547-ee129118ce17/Untitled.png)

Ø¯Ø± ÙˆØ§Ù‚Ø¹ØŒ Ø¹Ù†ØµØ± <img> Ø¯Ø§Ø±Ø§ÛŒ Ø¯Ùˆ Ù†Ø§Ù… Ú©Ù„Ø§Ø³ Ø§Ø³Øª Ú©Ù‡ ØªÙˆØ³Ø· styled-components ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯. ÛŒÚ©ÛŒ Ø§Ø² Ø§ÛŒÙ† Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ Ú©Ù‡ Ø¨Ø§ Ù¾ÛŒØ´ÙˆÙ†Ø¯ sc- Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ ÛŒÚ© Ù†Ø§Ù… Ú©Ù„Ø§Ø³ Ø«Ø§Ø¨Øª Ø§Ø³Øª Ú©Ù‡ styled-components Ø¨Ø±Ø§ÛŒ Ø³Ù„Ú©ØªÙˆØ±Ù‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø¯ÛŒÚ¯Ø±ÛŒØŒ Ú©Ù‡ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø¨Ù‡ Ø¢Ù† Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ØŒ Ø§Ø² Ù‡Ø´ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù‡ Ø§Ø³Øª. Ø¯Ø± Ø¹Ù…Ù„ØŒ Ø§ÛŒÙ† ØªÙØ§ÙˆØª ÙÙ‚Ø· ÛŒÚ© Ø¬Ø²Ø¦ÛŒØ§Øª Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ø³Øª. ÙÙ‚Ø· Ø¨Ù‡ ÛŒØ§Ø¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯: Ù‡Ø±Ú¯Ø² Ù†Ø¨Ø§ÛŒØ¯ Ù‡ÛŒÚ† ÛŒÚ© Ø§Ø² Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ú©Ù„Ø§Ø³ ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· styled-components Ø±Ø§ Ø¯Ø± Ú©Ø¯ Ø®ÙˆØ¯ Ú©Ù¾ÛŒ Ú©Ù†ÛŒØ¯! ØªÙ…Ø§Ù…ÛŒ Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ú©Ù„Ø§Ø³ ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù‡ Ù…Ù…Ú©Ù† Ø§Ø³Øª ØªØºÛŒÛŒØ± Ú©Ù†Ù†Ø¯.

Ø¯Ø§Ø´ØªÙ† Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ú©Ù„Ø§Ø³ Ù†Ø§Ø®ÙˆØ§Ù†Ø§ ÛŒÚ© Ù†Ù‚Ø·Ù‡ Ø¶Ø¹Ù Ù†Ø§Ø®ÙˆØ´Ø§ÛŒÙ†Ø¯ Ø§Ø² styled-components Ø§Ø³Øª. Ø®ÙˆØ´Ø¨Ø®ØªØ§Ù†Ù‡ØŒ Ø¨Ø§ Ú©Ù…Ú© ÛŒÚ© Ù¾ÛŒØ´â€ŒÙ¾Ø±Ø¯Ø§Ø²Ù†Ø¯Ù‡ Ù…Ø­Ø¨ÙˆØ¨ Ø¨Ù‡ Ù†Ø§Ù… BabelØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø§ÛŒÙ† Ù…Ø´Ú©Ù„ Ø±Ø§ Ú©Ø§Ù‡Ø´ Ø¯Ø§Ø¯.

### Better Debugging with the Babel Plugin

ØªÙˆØ§Ù†Ø§ÛŒÛŒâ€ŒÙ‡Ø§ÛŒ Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ ØªØºÛŒÛŒØ± Ø²Ø¨Ø§Ù† Babel Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ø±Ø§ÛŒ ØªØ·Ø¨ÛŒÙ‚ Ú©Ø¯ Ø´Ù…Ø§ Ø¨Ø§ Ù†ÛŒØ§Ø²Ù‡Ø§ÛŒ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ø®Ø§Øµ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯. Ø§ÛŒÙ† Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ú©Ø§Ø±ÛŒ Ø§Ø³Øª Ú©Ù‡ Ù¾Ù„Ø§Ú¯ÛŒÙ† Ø±Ø³Ù…ÛŒ styled-components Ø¨Ø±Ø§ÛŒ Babel Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ØŒ Ø¨Ø§ Ø¨Ù‡Ø¨ÙˆØ¯ Ú©Ø¯ styled-components Ø¯Ø± Ø²Ù…Ø§Ù† Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„ Ø¨Ø±Ø§ÛŒ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø¨Ù‡ØªØ± Ùˆ Ø§Ø´Ú©Ø§Ù„â€ŒØ²Ø¯Ø§ÛŒÛŒ Ø¢Ø³Ø§Ù†â€ŒØªØ±. Ø§ÛŒÙ† ÛŒÚ© Ø§ÙØ²ÙˆØ¯Ù†ÛŒ ØªÙˆØµÛŒÙ‡â€ŒØ´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù¾Ø±ÙˆÚ˜Ù‡â€ŒØ§ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø§Ø² styled-components Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

Ù†ØµØ¨

```jsx
npm install --save-dev babel-plugin-styled-components@2.1.4
```

Ø¨Ø¹Ø¯ Ø¨Ù‡ vite.config.ts Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒÚ©Ù†ÛŒÙ…Ø´

```jsx
import { defineConfig } from "vitest/config";
import react from "@vitejs/plugin-react";

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [
    react({
      babel: {
        plugins: [
          [
            "babel-plugin-styled-components",
            {
              displayName: true,
              fileName: true,
            },
          ],
        ],
      },
    }),
  ],
  test: {
    globals: true,
    environment: "happy-dom",
    setupFiles: ["test-setup.ts"],
  },
});

```

ØªÙØ§ÙˆØª Ø±Ø§ Ù…ØªÙˆØ¬Ù‡ Ø´Ø¯ÛŒØ¯ØŸ Ø¨Ø±Ø§ÛŒ ÛŒÚ© Ú†ÛŒØ²ØŒ Ù†Ø§Ù… Ú©Ù„Ø§Ø³ Ú©ÙˆØªØ§Ù‡ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª. (Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªØ§Ú©ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ù…: Ù‡Ø±Ú¯Ø² Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ú©Ù„Ø§Ø³ ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· styled-components Ø±Ø§ Ø¯Ø± Ú©Ø¯ Ø®ÙˆØ¯ Ú©Ù¾ÛŒ Ù†Ú©Ù†ÛŒØ¯!) Ø§Ù…Ø§ Ù…Ù‡Ù…â€ŒØªØ± Ø§Ø² Ù‡Ù…Ù‡ØŒ Ù†Ø§Ù… Ú©Ù„Ø§Ø³ Ú©Ù‡ Ù‚Ø¨Ù„Ø§Ù‹ Ø¨Ø§ Ù¾ÛŒØ´ÙˆÙ†Ø¯ sc- Ø¨ÙˆØ¯ØŒ Ø§Ú©Ù†ÙˆÙ† Ø¨Ø§ CarouselSlide__ScaledImg- Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø¨Ø§ ØªØ´Ú©Ø± Ø§Ø² Ù¾Ù„Ø§Ú¯ÛŒÙ† BabelØŒ Ø§Ú©Ù†ÙˆÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù†Ø§Ù… Ù…Ø§Ú˜ÙˆÙ„ (CarouselSlide) Ùˆ Ù†Ø§Ù… Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª (ScaledImg) Ø±Ø§ Ú©Ù‡ Ø¨Ø§ Ù‡Ø± Ø¹Ù†ØµØ±ÛŒ Ú©Ù‡ ØªÙˆØ³Ø· styled-components Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ØŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒØ¯! Ø¨Ø§ Ø§ÛŒÙ† Ø­Ø§Ù„ØŒ ØªÙˆØ¬Ù‡ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ Ú©Ù‡ Ù†Ø§Ù… Ú©Ù„Ø§Ø³ Ú©ÙˆØªØ§Ù‡ Ù‡Ù…Ú†Ù†Ø§Ù† Ù‡Ù…Ø§Ù† Ø§Ø³Øª Ú©Ù‡ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø³Ù„Ú©ØªÙˆØ± Ø§Ø³ØªØ§ÛŒÙ„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

Ù¾Ù„Ø§Ú¯ÛŒÙ† Babel Ù‡Ù…Ú†Ù†ÛŒÙ† Ø¨Ù‡Ø¨ÙˆØ¯Ù‡Ø§ÛŒ Ú©Ø§Ø±Ø§ÛŒÛŒ Ø±Ø§ Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ Ø¯Ø§Ø±Ø¯ØŒ Ø§Ø² Ø¬Ù…Ù„Ù‡ Ø­Ø°Ù Ú©Ø§Ù…Ù†Øªâ€ŒÙ‡Ø§ Ùˆ ÙØ¶Ø§ÛŒ Ø®Ø§Ù„ÛŒ ØºÛŒØ±Ø¶Ø±ÙˆØ±ÛŒ Ø§Ø² Ø¯Ø§Ø®Ù„ template literals Ø´Ù…Ø§ØŒ Ø¨Ù‡ Ø´Ù…Ø§ Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒØªØ§Ù† Ø±Ø§ Ø¨Ù‡ Ø´Ú©Ù„ÛŒ Ø¯ÙˆØ³ØªØ§Ù†Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ù†Ø³Ø§Ù†â€ŒÙ‡Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯ Ø¨Ø¯ÙˆÙ† Ø§ÛŒÙ†Ú©Ù‡ Ù†Ú¯Ø±Ø§Ù† ØªØ§Ø«ÛŒØ± Ø¢Ù† Ø¨Ø± Ù¾Ù‡Ù†Ø§ÛŒ Ø¨Ø§Ù†Ø¯ Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ø§Ø´ÛŒØ¯.

### Linting Styles with Stylelint

Ø®ÙˆØ´Ø¨Ø®ØªØ§Ù†Ù‡ØŒ Ø§Ù…Ú©Ø§Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² lint stylelint Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ styled-components Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯ØŒ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯. Ø§Ø² Ø¢Ù†Ø¬Ø§ Ú©Ù‡ ESLint Ù…Ø­ØªÙˆØ§ÛŒ Ø¢Ù† template literals Ø±Ø§ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ØŒ Ø§ÛŒÙ† Ø¯Ùˆ linter Ù‡ÛŒÚ† Ù…Ø´Ú©Ù„ÛŒ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø²ÛŒØ³ØªÛŒ Ù…Ø³Ø§Ù„Ù…Øªâ€ŒØ¢Ù…ÛŒØ² Ù†Ø¯Ø§Ø±Ù†Ø¯.

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ú©Ø§Ø± Ø¨Ù‡ Ú†Ù†Ø¯ Ø¨Ø³ØªÙ‡ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯: Ø®ÙˆØ¯ stylelintØŒ stylelint-processor-styled-components Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹ Ø¯Ø§Ø¯Ù† Ø¨Ù‡ stylelint Ú©Ù‡ Ú©Ø¯Ø§Ù… Ù‚Ø³Ù…Øªâ€ŒÙ‡Ø§ÛŒ ÙØ§ÛŒÙ„ Ø±Ø§ Ø¨Ø®ÙˆØ§Ù†Ø¯ØŒ stylelint-config-standard Ø¨Ø±Ø§ÛŒ ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† ÛŒÚ© Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ù‚ÙˆØ§Ù†ÛŒÙ† Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ù…Ø¹Ù‚ÙˆÙ„ØŒ Ùˆ postcss-styled-syntax Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹ Ø¯Ø§Ø¯Ù† Ø¨Ù‡ Stylelint Ú©Ù‡ Ú†Ú¯ÙˆÙ†Ù‡ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø±Ø§ Ø¯Ø±ÙˆÙ† ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ JavaScript/TypeScript ØªØ¬Ø²ÛŒÙ‡ Ú©Ù†Ø¯. Ø§ÛŒÙ† Ø¨Ø³ØªÙ‡â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡ Ù†ØµØ¨ Ú©Ù†ÛŒØ¯:

Ù†ØµØ¨

```jsx
npm install --save-dev stylelint@15.10.2 stylelint-config-standard@34.0.0 postcss-styled-syntax@0.4.0
```

ÙØ§ÛŒÙ„ .stylelintrc.cjs Ù…ÛŒØ³Ø§Ø²ÛŒÙ…

```jsx
module.exports = {
extends: ["stylelint-config-standard"],
customSyntax: "postcss-styled-syntax",
allowEmptyInput: true,
};
```

Ùˆ .stylelintignore Ø­Ø§ÙˆÛŒ dist

Ùˆ Ø¨Ù‡ package.json

```jsx
"lint:js": "eslint . && prettier --list-different .",
 "lint:css": "stylelint \"**/*.{ts,tsx}\"",
 "lint": "npm run lint:js && npm run lint:css",
 "format:js": "eslint --fix . && prettier --loglevel warn --write .",
 "format:css": "stylelint \"**/*.{ts,tsx}\" --fix",
 "format": "npm run format:js && npm run format:css",
```

Ùˆ stylelint Ø±Ø§ Ø¨Ù‡ Ø§Ø³Ú©Ø±ÛŒÙ¾Øªâ€ŒÙ‡Ø§ÛŒ lint Ùˆ format Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯. Ú†ÙˆÙ† Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒÙ… Ø¨Ù‡ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ TypeScript (Ø¨Ø§ Ù¾Ø³ÙˆÙ†Ø¯Ù‡Ø§ÛŒ .ts ÛŒØ§ .tsx) Ù†Ú¯Ø§Ù‡ Ú©Ù†Ø¯ØŒ Ø¯Ø³ØªÙˆØ± Ù…Ø±Ø¨ÙˆØ·Ù‡ stylelint "**/*.{ts,tsx}" Ø§Ø³Øª. Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø·ÙˆÙ„ Ø®Ø·ÙˆØ· Ø¯Ø± ÙØ§ÛŒÙ„ package.jsonØŒ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø±Ø§ Ø¨Ù‡ Ø¯Ùˆ Ù‚Ø³Ù…Øª ØªÙ‚Ø³ÛŒÙ… Ú©Ù†ÛŒØ¯. Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ù…ÙˆØ¬ÙˆØ¯ Ø±Ø§ lint
Ø¨Ù†Ø§Ù…ÛŒØ¯ Ùˆ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª stylelint Ø±Ø§ lint

Ùˆ Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± Ø±Ø§Ù† Ù…ÛŒØ´Ù‡

```jsx
npm run lint
```

## make assertions about styles

Ù†ØµØ¨

```jsx
npm install --save-dev jest-styled-components@7.1.1
```

Ø§ÛŒÙ…Ù¾ÙˆØ±Øª jest-styled-components Ø¯Ø§Ø®Ù„ test-setup.ts

```jsx
 import "jest-styled-components";
```

Ø­Ø§Ù„Ø§ ÛŒÚ© assertion Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡ Ù†Ø§Ù… `toHaveStyleRule()` Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø¯Ø§Ø±ÛŒØ¯. ÛŒÚ© ØªØ³Øª Ø¨Ù‡ Ø¨Ù„ÙˆÚ© `describe("CarouselSlide")` Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯ ØªØ§ Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ú©Ù‡ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ø§Ù†ØªØ¸Ø§Ø± `styled.img` Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.

Ù‡Ø§Ø³Ú©ÛŒ Ø¨Ø±Ø§ÛŒ git hook

Ø§Ø³ØªÙˆØ±ÛŒ Ø¨ÙˆÚ© Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª